var t=Object.defineProperty,e=(e,n,s)=>(((e,n,s)=>{n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s})(e,"symbol"!=typeof n?n+"":n,s),s);export function __vite_legacy_guard(){import("data:text/javascript,")}import{r as n,G as s,w as o,d as r,j as a,c as i,X as c,M as u,u as l,L as p,a9 as h,o as m,ap as f}from"./chunks/@vue-bb747027.js";import{u as d,c as g,a as b,b as B}from"./chunks/vue-router-6370cc0f.js";import{a as L}from"./chunks/axios-ff411c8f.js";import{z as _,e as y,E as v,a as E,b as w}from"./chunks/element-plus-d2b1cdd3.js";import{m as P}from"./chunks/mitt-106818fe.js";import{t as k,u as j,b as M,v as T}from"./chunks/lodash-es-7a4ab7c3.js";import"./chunks/@popperjs-66964824.js";import"./chunks/@vueuse-09ca9f25.js";import"./chunks/@element-plus-ccefd8d4.js";import"./chunks/async-validator-b6f94fc9.js";import"./chunks/@ctrl-d2fe7c9e.js";import"./chunks/normalize-wheel-es-233dc293.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),"use-credentials"===t.crossorigin?e.credentials="include":"anonymous"===t.crossorigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const F={},A=function(t,e){return e&&0!==e.length?Promise.all(e.map((t=>{if((t=`${t}`)in F)return;F[t]=!0;const e=t.endsWith(".css"),n=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${n}`))return;const s=document.createElement("link");return s.rel=e?"stylesheet":"modulepreload",e||(s.as="script",s.crossOrigin=""),s.href=t,document.head.appendChild(s),e?new Promise(((t,e)=>{s.addEventListener("load",t),s.addEventListener("error",e)})):void 0}))).then((()=>t())):t()};const O=[{path:"/login",name:"Login",component:()=>A((()=>import("./chunks/Login-8c3e2d57.js")),["chunks/Login-8c3e2d57.js","assets/Login-534c0d02.css","chunks/@vue-bb747027.js","chunks/vue-router-6370cc0f.js","chunks/login.api-1640ec85.js","chunks/oem-517c1d66.js","chunks/axios-ff411c8f.js","chunks/element-plus-d2b1cdd3.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/@element-plus-ccefd8d4.js","chunks/lodash-es-7a4ab7c3.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/plugin-vue_export-helper-3b0dab4c.js","chunks/mitt-106818fe.js"])},{path:"/logout",name:"Logout",component:()=>A((()=>import("./chunks/Logout-8b37b02b.js")),["chunks/Logout-8b37b02b.js","chunks/vue-router-6370cc0f.js","chunks/@vue-bb747027.js","chunks/login.api-1640ec85.js","chunks/oem-517c1d66.js","chunks/axios-ff411c8f.js","chunks/element-plus-d2b1cdd3.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/@element-plus-ccefd8d4.js","chunks/lodash-es-7a4ab7c3.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/mitt-106818fe.js"])},{path:"/",name:"Index",component:()=>A((()=>import("./chunks/HomePage-a4d5aea7.js")),["chunks/HomePage-a4d5aea7.js","assets/HomePage-94f59acf.css","chunks/vue-router-6370cc0f.js","chunks/@vue-bb747027.js","chunks/topoBar-31af6b48.js","assets/topoBar-2d62cac5.css","chunks/plugin-vue_export-helper-3b0dab4c.js","chunks/oem-517c1d66.js","chunks/ai.api-93d479fb.js","chunks/lodash-es-7a4ab7c3.js","chunks/axios-ff411c8f.js","chunks/element-plus-d2b1cdd3.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/@element-plus-ccefd8d4.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/mitt-106818fe.js"])},...[{path:"/chat/assistant",name:"AIAssistant",component:()=>A((()=>import("./chunks/AIAssistantPage-b3b810bc.js")),["chunks/AIAssistantPage-b3b810bc.js","assets/AIAssistantPage-9f10c815.css","chunks/@vue-bb747027.js","chunks/@element-plus-ccefd8d4.js","chunks/markdown-it-cd7d6dfa.js","chunks/mdurl-265342ab.js","chunks/uc.micro-caa990fc.js","chunks/linkify-it-fb3f2949.js","chunks/punycode.js-94cdf097.js","chunks/ai.api-93d479fb.js","chunks/oem-517c1d66.js","chunks/plugin-vue_export-helper-3b0dab4c.js","chunks/element-plus-d2b1cdd3.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/lodash-es-7a4ab7c3.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/vue-router-6370cc0f.js","chunks/topoBar-31af6b48.js","assets/topoBar-2d62cac5.css","chunks/axios-ff411c8f.js","chunks/mitt-106818fe.js"])},{path:"/chat/speech",name:"SpeechDemo",component:()=>A((()=>import("./chunks/SpeechDemo-6a611fc7.js")),["chunks/SpeechDemo-6a611fc7.js","chunks/@vue-bb747027.js","chunks/plugin-vue_export-helper-3b0dab4c.js"])}],...[{path:"/kb",name:"knowledgeBase",component:()=>A((()=>import("./chunks/index-3866cdcc.js").then((function(t){return t.a}))),["chunks/index-3866cdcc.js","assets/index-b314d382.css","chunks/@vue-bb747027.js","chunks/oem-517c1d66.js","chunks/plugin-vue_export-helper-3b0dab4c.js","chunks/element-plus-d2b1cdd3.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/@element-plus-ccefd8d4.js","chunks/lodash-es-7a4ab7c3.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/topoBar-31af6b48.js","assets/topoBar-2d62cac5.css","chunks/property.api-43ad7018.js","assets/property.api-64a2c9b3.css"])}],...[{path:"/settings",name:"Settings",component:()=>A((()=>import("./chunks/index-562019ae.js")),["chunks/index-562019ae.js","assets/index-b9f1a125.css","chunks/topoBar-31af6b48.js","assets/topoBar-2d62cac5.css","chunks/@vue-bb747027.js","chunks/plugin-vue_export-helper-3b0dab4c.js","chunks/oem-517c1d66.js","chunks/element-plus-d2b1cdd3.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/@element-plus-ccefd8d4.js","chunks/lodash-es-7a4ab7c3.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/property.api-43ad7018.js","assets/property.api-64a2c9b3.css","chunks/vue-router-6370cc0f.js","chunks/axios-ff411c8f.js","chunks/mitt-106818fe.js"])}]],S=t=>{location.hash=t};const x=async t=>{let e={};if(void 0!=={"./lang/en.js":()=>A((()=>import("./chunks/en-f35060cc.js")),["chunks/en-f35060cc.js","chunks/oem-517c1d66.js"]),"./lang/zh.js":()=>A((()=>import("./chunks/zh-06c911a4.js")),["chunks/zh-06c911a4.js","chunks/oem-517c1d66.js"])}[`./lang/${t}.js`])try{e=(await function(t){switch(t){case"./lang/en.js":return A((()=>import("./chunks/en-f35060cc.js")),["chunks/en-f35060cc.js","chunks/oem-517c1d66.js"]);case"./lang/zh.js":return A((()=>import("./chunks/zh-06c911a4.js")),["chunks/zh-06c911a4.js","chunks/oem-517c1d66.js"]);default:return new Promise((function(e,n){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+t)))}))}}(`./lang/${t}.js`)).default}catch(n){}return{...e}};var G=async t=>({...await x(t)});function I(t){const e=C();e&&e===t||function(t,e,n=!1){const s=n?sessionStorage:localStorage;null!=e&&s.setItem(t,String(e))}("lang",t)}function C(){return localStorage.getItem("lang")}function $(t,e,n=0,s="children",o=null){n++;for(let r=0;r<t.length;r++){const a=t[r],i=a[s],c=k(i)&&!j(i);e(a,n,!c,o,r),c&&$(a[s],e,n,s,a)}}function R(t){return function(t,e="-",n){return-1===t.indexOf(e)?t:t.split(e).filter((t=>t&&t.trim())).map(((t,e)=>e>0||n?t.charAt(0).toUpperCase()+t.substring(1):t)).join("")}(`page/${t}`,"/",!0)}var D,z;function V(t){let e;return()=>{if(M(e)){const n=Array.prototype.slice.apply(arguments);e=t.apply(null,n)}return e}}function Y(t,e){if(!T(e))throw new Error("wrapFunction expect args type Function");return function(...n){T(t)&&t.apply(this,[...n]),e.apply(this,[...n])}}(z=D||(D={}))[z.sync=0]="sync",z[z.async=1]="async";const Z={},K=P();Z.$on=K.on,Z.$off=K.off,Z.$emit=K.emit;const q={valueFormats:{},bytesToSize:function(t){let e,n=1024;if(t<0&&(e=Math.floor(Math.log(-t)/Math.log(n))),t>=0&&t<1)return{a:0,b:"0 GB"};t>=1&&(e=Math.floor(Math.log(t)/Math.log(n)));const s=(t/n**e).toPrecision(3)>=0?(t/n**e).toPrecision(3):0;return{a:t.toPrecision(3),b:s+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][e]}},numGet:function(t,e){let n=String(t);const s=n.length,o=n.indexOf(".");return(-1===o?0:s-o-1)>e&&(n=n.substr(0,o+e+1)),n},toFixed:function(t,e){if(null===t)return"";const n=e?10**Math.max(0,e):1;let s=String(Math.round(t*n)/n);if(-1!==s.indexOf("e")||0===t)return s;if(null!=e){const t=s.indexOf("."),o=-1===t?0:s.length-t-1;if(o<e)return(o?s:s+".")+String(n).substr(1,e-o)}return s=q.numGet(s,2),s},formatFuncCreator:function(t,e){return function(n,s,o){if(null===n)return"";let r=0;const a=e.length;for(;Math.abs(n)>=t;)if(r++,n/=t,r>=a)return"NA";return r>0&&null!==o&&(s=o+3*r),q.toFixed(n,s)+e[r]}}};q.valueFormats.bits=q.formatFuncCreator(1024,[" b"," Kib"," Mib"," Gib"," Tib"," Pib"," Eib"," Zib"," Yib"]),q.valueFormats.bytes=q.formatFuncCreator(1024,[" B"," KB"," MB"," GB"," TB"," PB"," EB"," ZB"," YB"]),q.valueFormats.bytes_rate=q.formatFuncCreator(1024,[" B/s"," KB/s"," MB/s"," GB/s"," TB/s"," PB/s"," EB/s"," ZB/s"," YB/s"]),q.valueFormats.kbytes=q.formatFuncCreator(1024,[" KiB"," MiB"," GiB"," TiB"," PiB"," EiB"," ZiB"," YiB"]),q.valueFormats.mbytes=q.formatFuncCreator(1024,[" MiB"," GiB"," TiB"," PiB"," EiB"," ZiB"," YiB"]),q.valueFormats.gbytes=q.formatFuncCreator(1024,[" GB"," TB"," PB"," EB"," ZB"," YB"]),q.valueFormats.bps=q.formatFuncCreator(1e3,[" bps"," Kbps"," Mbps"," Gbps"," Tbps"," Pbps"," Ebps"," Zbps"," Ybps"]),q.valueFormats.pps=q.formatFuncCreator(1e3,[" pps"," Kpps"," Mpps"," Gpps"," Tpps"," Ppps"," Epps"," Zpps"," Ypps"]),q.valueFormats.Bps=q.formatFuncCreator(1e3,[" Bps"," KBps"," MBps"," GBps"," TBps"," PBps"," EBps"," ZBps"," YBps"]),q.valueFormats.ops=q.formatFuncCreator(1e3,[" ops"," kops","Mops","Gops","Tops","Pops","Eops","Zops","Yops"]),q.valueFormats.none=q.toFixed,q.valueFormats.percent=function(t,e){return q.toFixed(t,e)+" %"},q.valueFormats.special=function(t,e,n){return q.toFixed(t,e)+" "+n},q.roundValue=function(t,e){if(null===t)return null;const n=10**e;return Math.round((n*t).toFixed(e))/n};const N={zh:_,en:y},U=V((t=>{const e=C(),s=n("zh"===e?_:y);return{elLocale:s,switchLang:t=>{s.value=N[t]??_}}})),H=()=>window.matchMedia&&void 0!==window.matchMedia("(prefers-color-scheme: dark)").matches,W=t=>{const e=document.documentElement;"dark"===t?e.classList.add("dark"):e.classList.remove("dark")},X=V((()=>{const t=n(H()&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");if(H()){const e=window.matchMedia("(prefers-color-scheme: dark)"),n=e=>{t.value=e.matches?"dark":"light"};e.addEventListener("change",n),s((()=>{e.removeEventListener("change",n)}))}return o(t,(t=>{W(t)}),{immediate:!0}),{currentTheme:t,isDarkModeSupported:H,setThemeClass:W}}));const J=r({__name:"App",setup(t){document.getElementsByTagName("title")[0].innerHTML=et("ai.center.title");const{elLocale:e}=U(),s=d(),r=n(!1);o((()=>s.hash),((t,e)=>{t&&t.indexOf("big-screen")>-1?r.value=!0:r.value=!1}));const f=a((()=>({isScreen:r.value})));return(t,n)=>{const s=h("router-view");return m(),i("div",{class:p(["web-app",f.value])},[c(l(v),{locale:l(e)},{default:u((()=>[c(s)])),_:1},8,["locale"])],2)}}}),Q=new Map;const tt=new class{constructor(){e(this,"langLoaders",new Set),e(this,"lang",n("")),e(this,"pair",n({}))}registerLangLoader(t){Array.isArray(t)?t.forEach((t=>this.langLoaders.add(t))):this.langLoaders.add(t)}async use(t,e){if(Q.has(t)){const e=Q.get(t);e&&this.update(t,e)}if(e&&Object.keys(e).length)this.update(t,e),Q.set(t,e);else{const e=[];this.langLoaders.forEach((n=>{const s=n(t);e.push(s)}));const n=function(t){return t.reduce(((t,e)=>({...t,...e})),{})}(await Promise.all(e));this.update(t,n),Q.set(t,n)}}update(t,e){document.querySelector("html").setAttribute("lang",t),this.lang.value=t,this.pair.value=e||{}}translate(...t){const[e,n,s]=t;if(!e)return e;let o,r=this.pair.value;if("string"==typeof r[e])return this.compile(r[e],n);const a=e.split(".");for(let i=0,c=a.length;i<c;i++){if(o=r[a[i]],!o)return s||e;if(i===c-1)return this.compile(o,n);r=o}}compile(t,e){return t&&e?"string"!=typeof t?t:t.replace(/\{(\w+)\}/g,((t,n)=>e[n])):t}},et=(...t)=>tt.translate(...t);function nt(t){$(t,((t,e,n,s)=>{if(t.path=s?function(...t){return t.reduce(((t,e)=>t+(e&&e.startsWith("/")?e:`/${e}`)),"").replace(/\/[\/]+/,"/")}(s.path,t.path):t.path,t.component)if(T(t.component)){const e=t.component;t.component=async()=>{const n=await e(),s=n.default?n.default:n;return s.name=s.name??R(t.path),s}}else t.component.name=R(t.path)}))}class st{constructor(t){e(this,"options",{}),e(this,"lang",n("zh")),e(this,"theme",n("primary")),e(this,"isLoading",n(!1)),e(this,"app"),e(this,"router"),e(this,"plugins"),e(this,"langMessage",{}),this.initOptions(t)}initOptions(t){this.options=t||{},this.create(t?.root),this.initBuildInGlobalConfig(),this.setGlobalConfig(t?.config),t?.plugins&&t.plugins.forEach((t=>{this.registerPlugin(t)}))}create(t){const e=t||J;return this.app=f(e),this.options.onBeforeLaunch&&this.options.onBeforeLaunch(this),window.webApp=this,this}setUpLang(t){t&&this.registerLangLoader(t),this.lang.value=C()||this.options.lang||"zh",this.setLang(this.lang.value)}createRouter(t){this.router=function({routes:t,routeBase:e,routeType:n}){t&&nt(t);const s=g({history:"hash"===n?b(e):B(e),routes:t||[]});return s.beforeEach((t=>{t.meta.title?document.title=`${et(t.meta.title)}`:document.title=`${et("APP_HOME","",document.title)}`})),s.afterEach((t=>{t.meta.title?document.title=`${et(t.meta.title)}`:document.title=`${et("APP_HOME","",document.title)}`})),s}({routes:t||[],routeBase:this.options.routeBase||"",routeType:this.options.routeType||"hash"}),this.registerPlugin(this.router)}initBuildInGlobalConfig(){const t=this.app.config.globalProperties;Object.defineProperty(t,"$appLoading",{writable:!1,value:this.isLoading}),Object.defineProperty(t,"$lang",{writable:!1,value:this.lang}),Object.defineProperty(t,"$t",{writable:!1,value:et}),Object.defineProperty(t,"$eventbus",{writable:!1,value:Z})}setGlobalConfig(t){const e=this.app.config.globalProperties;for(const n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return this}registerLangLoader(t){return tt.registerLangLoader(t),this}registerPlugin(t,...e){return this.app.use(t,...e),this}registerRoutes(t){return t.forEach((t=>{this.router.addRoute(t)})),this}setLang(t){I(t),tt.use(t,this.langMessage),this.lang.value=t;const e=this.options.onSwitchLang;return e&&e(t),this}getLang(){return C()||this.options.lang||"zh"}switchLang(t){return this.setLang(t),this}mount(t){return this.isLoading.value=!0,this.isLoading.value=!1,this.app.mount(t),this.options.onAfterLaunch&&this.options.onAfterLaunch(this),this}onLaunch(t){return this.options.onAfterLaunch=Y(this.options.onAfterLaunch,t),this}onBeforeLaunch(t){return this.options.onBeforeLaunch=Y(this.options.onBeforeLaunch,t),this}onSwitchLang(t){return this.options.onSwitchLang=Y(this.options.onSwitchLang,t),this}onSwitchTheme(t){return this.options.onSwitchTheme=Y(this.options.onSwitchTheme,t),this}}const ot=L.create({baseURL:"/",timeout:6e4});ot.interceptors.response.use((t=>t),(t=>{const{status:e}=t.response;return 401!==e&&403!==e||S("login"),400!==e&&500!==e||t.response.data.message&&E.error(e+" : "+t.response.data.message),Promise.reject(t)}));!async function(){const t=new st({routeType:"hash",routes:O,routeBase:"",langLoaders:[G],plugins:[w]}),e=await G(t.getLang());t.langMessage=e,t.setUpLang([G]),X(),t.createRouter(O),t.mount("#app")}();export{A as _,S as g,ot as h,et as t};
