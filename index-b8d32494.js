var t=Object.defineProperty,e=(e,s,n)=>(((e,s,n)=>{s in e?t(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n})(e,"symbol"!=typeof s?s+"":s,n),n);export function __vite_legacy_guard(){import("data:text/javascript,")}import{r as s,G as n,w as o,d as r,j as a,c as i,X as u,M as c,u as l,L as p,a9 as h,o as m,ap as g}from"./chunks/@vue-bb747027.js";import{u as d,c as f,a as b,b as _}from"./chunks/vue-router-6370cc0f.js";import{a as L}from"./chunks/axios-ff411c8f.js";import{z as B,e as v,E as y,a as E,b as w}from"./chunks/element-plus-06bb7c4a.js";import{m as P}from"./chunks/mitt-106818fe.js";import{t as k,u as j,b as I,v as A}from"./chunks/lodash-es-7a4ab7c3.js";import"./chunks/@popperjs-66964824.js";import"./chunks/@vueuse-09ca9f25.js";import"./chunks/@element-plus-ccefd8d4.js";import"./chunks/async-validator-b6f94fc9.js";import"./chunks/@ctrl-d2fe7c9e.js";import"./chunks/normalize-wheel-es-233dc293.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const s of t)if("childList"===s.type)for(const t of s.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),"use-credentials"===t.crossorigin?e.credentials="include":"anonymous"===t.crossorigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const M={},S=function(t,e){return e&&0!==e.length?Promise.all(e.map((t=>{if((t=`${t}`)in M)return;M[t]=!0;const e=t.endsWith(".css"),s=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${s}`))return;const n=document.createElement("link");return n.rel=e?"stylesheet":"modulepreload",e||(n.as="script",n.crossOrigin=""),n.href=t,document.head.appendChild(n),e?new Promise(((t,e)=>{n.addEventListener("load",t),n.addEventListener("error",e)})):void 0}))).then((()=>t())):t()};const T=[{path:"/login",name:"Login",component:()=>S((()=>import("./chunks/Login-2a3658f6.js")),["chunks/Login-2a3658f6.js","assets/Login-a0757f7b.css","chunks/@vue-bb747027.js","chunks/vue-router-6370cc0f.js","chunks/axios-ff411c8f.js","chunks/element-plus-06bb7c4a.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/@element-plus-ccefd8d4.js","chunks/lodash-es-7a4ab7c3.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/plugin-vue_export-helper-3b0dab4c.js","chunks/mitt-106818fe.js"])},{path:"/logout",name:"Logout",component:()=>S((()=>import("./chunks/Logout-b7658370.js")),["chunks/Logout-b7658370.js","chunks/vue-router-6370cc0f.js","chunks/@vue-bb747027.js","chunks/axios-ff411c8f.js","chunks/element-plus-06bb7c4a.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/@element-plus-ccefd8d4.js","chunks/lodash-es-7a4ab7c3.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/mitt-106818fe.js"])},{path:"/",name:"Index",component:()=>S((()=>import("./chunks/HomePage-2b74263b.js")),["chunks/HomePage-2b74263b.js","assets/HomePage-4d213e3a.css","chunks/vue-router-6370cc0f.js","chunks/@vue-bb747027.js","chunks/topoBar-627ae9ed.js","assets/topoBar-ac046675.css","chunks/plugin-vue_export-helper-3b0dab4c.js","chunks/ai.api-4f1428d0.js","chunks/lodash-es-7a4ab7c3.js","chunks/axios-ff411c8f.js","chunks/element-plus-06bb7c4a.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/@element-plus-ccefd8d4.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/mitt-106818fe.js"])},...[{path:"/chat/assistant",name:"AIAssistant",component:()=>S((()=>import("./chunks/AIAssistantPage-4e16136a.js")),["chunks/AIAssistantPage-4e16136a.js","assets/AIAssistantPage-e5b176e9.css","chunks/@vue-bb747027.js","chunks/@element-plus-ccefd8d4.js","chunks/markdown-it-cd7d6dfa.js","chunks/mdurl-265342ab.js","chunks/uc.micro-caa990fc.js","chunks/linkify-it-fb3f2949.js","chunks/punycode.js-94cdf097.js","chunks/ai.api-4f1428d0.js","chunks/plugin-vue_export-helper-3b0dab4c.js","chunks/element-plus-06bb7c4a.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/lodash-es-7a4ab7c3.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/vue-router-6370cc0f.js","chunks/topoBar-627ae9ed.js","assets/topoBar-ac046675.css","chunks/axios-ff411c8f.js","chunks/mitt-106818fe.js"])},{path:"/chat/speech",name:"SpeechDemo",component:()=>S((()=>import("./chunks/SpeechDemo-6a611fc7.js")),["chunks/SpeechDemo-6a611fc7.js","chunks/@vue-bb747027.js","chunks/plugin-vue_export-helper-3b0dab4c.js"])}],...[{path:"/kb",name:"knowledgeBase",component:()=>S((()=>import("./chunks/index-05e66687.js").then((function(t){return t.a}))),["chunks/index-05e66687.js","assets/index-440858c7.css","chunks/@vue-bb747027.js","chunks/plugin-vue_export-helper-3b0dab4c.js","chunks/element-plus-06bb7c4a.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/@element-plus-ccefd8d4.js","chunks/lodash-es-7a4ab7c3.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/topoBar-627ae9ed.js","assets/topoBar-ac046675.css","chunks/RagSettingsPanel-9cdc9d00.js","assets/RagSettingsPanel-29dcc37d.css"])}],...[{path:"/mcp",name:"mcpManagement",component:()=>S((()=>import("./chunks/index-80b379d2.js")),["chunks/index-80b379d2.js","assets/index-e4c11d53.css","chunks/topoBar-627ae9ed.js","assets/topoBar-ac046675.css","chunks/@vue-bb747027.js","chunks/plugin-vue_export-helper-3b0dab4c.js","chunks/element-plus-06bb7c4a.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/@element-plus-ccefd8d4.js","chunks/lodash-es-7a4ab7c3.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/vue-router-6370cc0f.js","chunks/axios-ff411c8f.js","chunks/mitt-106818fe.js"])}],...[{path:"/settings",name:"Settings",component:()=>S((()=>import("./chunks/index-7bdaa7a0.js")),["chunks/index-7bdaa7a0.js","assets/index-78bde100.css","chunks/topoBar-627ae9ed.js","assets/topoBar-ac046675.css","chunks/@vue-bb747027.js","chunks/plugin-vue_export-helper-3b0dab4c.js","chunks/element-plus-06bb7c4a.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/@element-plus-ccefd8d4.js","chunks/lodash-es-7a4ab7c3.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/RagSettingsPanel-9cdc9d00.js","assets/RagSettingsPanel-29dcc37d.css","chunks/user.api-9f808c82.js","chunks/vue-router-6370cc0f.js","chunks/axios-ff411c8f.js","chunks/mitt-106818fe.js"])}],...[{path:"/account",name:"Account",component:()=>S((()=>import("./chunks/AccountSettings-71d9f400.js")),["chunks/AccountSettings-71d9f400.js","assets/AccountSettings-373ccff1.css","chunks/topoBar-627ae9ed.js","assets/topoBar-ac046675.css","chunks/@vue-bb747027.js","chunks/plugin-vue_export-helper-3b0dab4c.js","chunks/user.api-9f808c82.js","chunks/element-plus-06bb7c4a.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/@element-plus-ccefd8d4.js","chunks/lodash-es-7a4ab7c3.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/vue-router-6370cc0f.js","chunks/axios-ff411c8f.js","chunks/mitt-106818fe.js"])}]],F=t=>{location.hash=t};const O=async t=>{let e={};if(void 0!=={"./lang/en.js":()=>S((()=>import("./chunks/en-7095ea43.js")),["chunks/en-7095ea43.js","chunks/@vue-bb747027.js","chunks/vue-router-6370cc0f.js","chunks/axios-ff411c8f.js","chunks/element-plus-06bb7c4a.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/@element-plus-ccefd8d4.js","chunks/lodash-es-7a4ab7c3.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/mitt-106818fe.js"]),"./lang/zh.js":()=>S((()=>import("./chunks/zh-9cdabfed.js")),["chunks/zh-9cdabfed.js","chunks/@vue-bb747027.js","chunks/vue-router-6370cc0f.js","chunks/axios-ff411c8f.js","chunks/element-plus-06bb7c4a.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/@element-plus-ccefd8d4.js","chunks/lodash-es-7a4ab7c3.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/mitt-106818fe.js"])}[`./lang/${t}.js`])try{e=(await function(t){switch(t){case"./lang/en.js":return S((()=>import("./chunks/en-7095ea43.js")),["chunks/en-7095ea43.js","chunks/@vue-bb747027.js","chunks/vue-router-6370cc0f.js","chunks/axios-ff411c8f.js","chunks/element-plus-06bb7c4a.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/@element-plus-ccefd8d4.js","chunks/lodash-es-7a4ab7c3.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/mitt-106818fe.js"]);case"./lang/zh.js":return S((()=>import("./chunks/zh-9cdabfed.js")),["chunks/zh-9cdabfed.js","chunks/@vue-bb747027.js","chunks/vue-router-6370cc0f.js","chunks/axios-ff411c8f.js","chunks/element-plus-06bb7c4a.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/@element-plus-ccefd8d4.js","chunks/lodash-es-7a4ab7c3.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/mitt-106818fe.js"]);default:return new Promise((function(e,s){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+t)))}))}}(`./lang/${t}.js`)).default}catch(s){}return{...e}};var x=async t=>({...await O(t)});function C(t){const e=G();e&&e===t||function(t,e,s=!1){const n=s?sessionStorage:localStorage;null!=e&&n.setItem(t,String(e))}("lang",t)}function G(){return localStorage.getItem("lang")}function R(t,e,s=0,n="children",o=null){s++;for(let r=0;r<t.length;r++){const a=t[r],i=a[n],u=k(i)&&!j(i);e(a,s,!u,o,r),u&&R(a[n],e,s,n,a)}}function $(t){return function(t,e="-",s){return-1===t.indexOf(e)?t:t.split(e).filter((t=>t&&t.trim())).map(((t,e)=>e>0||s?t.charAt(0).toUpperCase()+t.substring(1):t)).join("")}(`page/${t}`,"/",!0)}var D,V;function z(t){let e;return()=>{if(I(e)){const s=Array.prototype.slice.apply(arguments);e=t.apply(null,s)}return e}}function N(t,e){if(!A(e))throw new Error("wrapFunction expect args type Function");return function(...s){A(t)&&t.apply(this,[...s]),e.apply(this,[...s])}}(V=D||(D={}))[V.sync=0]="sync",V[V.async=1]="async";const Y={},Z=P();Y.$on=Z.on,Y.$off=Z.off,Y.$emit=Z.emit;const K={valueFormats:{},bytesToSize:function(t){let e,s=1024;if(t<0&&(e=Math.floor(Math.log(-t)/Math.log(s))),t>=0&&t<1)return{a:0,b:"0 GB"};t>=1&&(e=Math.floor(Math.log(t)/Math.log(s)));const n=(t/s**e).toPrecision(3)>=0?(t/s**e).toPrecision(3):0;return{a:t.toPrecision(3),b:n+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][e]}},numGet:function(t,e){let s=String(t);const n=s.length,o=s.indexOf(".");return(-1===o?0:n-o-1)>e&&(s=s.substr(0,o+e+1)),s},toFixed:function(t,e){if(null===t)return"";const s=e?10**Math.max(0,e):1;let n=String(Math.round(t*s)/s);if(-1!==n.indexOf("e")||0===t)return n;if(null!=e){const t=n.indexOf("."),o=-1===t?0:n.length-t-1;if(o<e)return(o?n:n+".")+String(s).substr(1,e-o)}return n=K.numGet(n,2),n},formatFuncCreator:function(t,e){return function(s,n,o){if(null===s)return"";let r=0;const a=e.length;for(;Math.abs(s)>=t;)if(r++,s/=t,r>=a)return"NA";return r>0&&null!==o&&(n=o+3*r),K.toFixed(s,n)+e[r]}}};K.valueFormats.bits=K.formatFuncCreator(1024,[" b"," Kib"," Mib"," Gib"," Tib"," Pib"," Eib"," Zib"," Yib"]),K.valueFormats.bytes=K.formatFuncCreator(1024,[" B"," KB"," MB"," GB"," TB"," PB"," EB"," ZB"," YB"]),K.valueFormats.bytes_rate=K.formatFuncCreator(1024,[" B/s"," KB/s"," MB/s"," GB/s"," TB/s"," PB/s"," EB/s"," ZB/s"," YB/s"]),K.valueFormats.kbytes=K.formatFuncCreator(1024,[" KiB"," MiB"," GiB"," TiB"," PiB"," EiB"," ZiB"," YiB"]),K.valueFormats.mbytes=K.formatFuncCreator(1024,[" MiB"," GiB"," TiB"," PiB"," EiB"," ZiB"," YiB"]),K.valueFormats.gbytes=K.formatFuncCreator(1024,[" GB"," TB"," PB"," EB"," ZB"," YB"]),K.valueFormats.bps=K.formatFuncCreator(1e3,[" bps"," Kbps"," Mbps"," Gbps"," Tbps"," Pbps"," Ebps"," Zbps"," Ybps"]),K.valueFormats.pps=K.formatFuncCreator(1e3,[" pps"," Kpps"," Mpps"," Gpps"," Tpps"," Ppps"," Epps"," Zpps"," Ypps"]),K.valueFormats.Bps=K.formatFuncCreator(1e3,[" Bps"," KBps"," MBps"," GBps"," TBps"," PBps"," EBps"," ZBps"," YBps"]),K.valueFormats.ops=K.formatFuncCreator(1e3,[" ops"," kops","Mops","Gops","Tops","Pops","Eops","Zops","Yops"]),K.valueFormats.none=K.toFixed,K.valueFormats.percent=function(t,e){return K.toFixed(t,e)+" %"},K.valueFormats.special=function(t,e,s){return K.toFixed(t,e)+" "+s},K.roundValue=function(t,e){if(null===t)return null;const s=10**e;return Math.round((s*t).toFixed(e))/s};const q={zh:B,en:v},H=z((t=>{const e=G(),n=s("zh"===e?B:v);return{elLocale:n,switchLang:t=>{n.value=q[t]??B}}})),J=()=>window.matchMedia&&void 0!==window.matchMedia("(prefers-color-scheme: dark)").matches,U=t=>{const e=document.documentElement;"dark"===t?e.classList.add("dark"):e.classList.remove("dark")},W=z((()=>{const t=s(J()&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");if(J()){const e=window.matchMedia("(prefers-color-scheme: dark)"),s=e=>{t.value=e.matches?"dark":"light"};e.addEventListener("change",s),n((()=>{e.removeEventListener("change",s)}))}return o(t,(t=>{U(t)}),{immediate:!0}),{currentTheme:t,isDarkModeSupported:J,setThemeClass:U}}));const X=r({__name:"App",setup(t){document.getElementsByTagName("title")[0].innerHTML=et("ai.center.title");const{elLocale:e}=H(),n=d(),r=s(!1);o((()=>n.hash),((t,e)=>{t&&t.indexOf("big-screen")>-1?r.value=!0:r.value=!1}));const g=a((()=>({isScreen:r.value})));return(t,s)=>{const n=h("router-view");return m(),i("div",{class:p(["web-app",g.value])},[u(l(y),{locale:l(e)},{default:c((()=>[u(n)])),_:1},8,["locale"])],2)}}}),Q=new Map;const tt=new class{constructor(){e(this,"langLoaders",new Set),e(this,"lang",s("")),e(this,"pair",s({}))}registerLangLoader(t){Array.isArray(t)?t.forEach((t=>this.langLoaders.add(t))):this.langLoaders.add(t)}async use(t,e){if(Q.has(t)){const e=Q.get(t);e&&this.update(t,e)}if(e&&Object.keys(e).length)this.update(t,e),Q.set(t,e);else{const e=[];this.langLoaders.forEach((s=>{const n=s(t);e.push(n)}));const s=function(t){return t.reduce(((t,e)=>({...t,...e})),{})}(await Promise.all(e));this.update(t,s),Q.set(t,s)}}update(t,e){document.querySelector("html").setAttribute("lang",t),this.lang.value=t,this.pair.value=e||{}}translate(...t){const[e,s,n]=t;if(!e)return e;let o,r=this.pair.value;if("string"==typeof r[e])return this.compile(r[e],s);const a=e.split(".");for(let i=0,u=a.length;i<u;i++){if(o=r[a[i]],!o)return n||e;if(i===u-1)return this.compile(o,s);r=o}}compile(t,e){return t&&e?"string"!=typeof t?t:t.replace(/\{(\w+)\}/g,((t,s)=>e[s])):t}},et=(...t)=>tt.translate(...t),st=t=>{null==t||Number.isNaN(t)?localStorage.removeItem("user-role"):localStorage.setItem("user-role",String(t))},nt=()=>{const t=localStorage.getItem("user-role");if(!t)return null;const e=Number(t);return Number.isNaN(e)?null:e},ot=t=>{const e=nt();return null!==e&&e<=t},rt=t=>{if(!t)return localStorage.removeItem("user-id"),localStorage.removeItem("user-name"),void st(null);t.userId?localStorage.setItem("user-id",t.userId):localStorage.removeItem("user-id"),t.username?localStorage.setItem("user-name",t.username):localStorage.removeItem("user-name"),st(t.role??null)},at=()=>({userId:localStorage.getItem("user-id")||"",username:localStorage.getItem("user-name")||"",role:nt()}),it=()=>"admin"===at().username;function ut(t){R(t,((t,e,s,n)=>{if(t.path=n?function(...t){return t.reduce(((t,e)=>t+(e&&e.startsWith("/")?e:`/${e}`)),"").replace(/\/[\/]+/,"/")}(n.path,t.path):t.path,t.component)if(A(t.component)){const e=t.component;t.component=async()=>{const s=await e(),n=s.default?s.default:s;return n.name=n.name??$(t.path),n}}else t.component.name=$(t.path)}))}class ct{constructor(t){e(this,"options",{}),e(this,"lang",s("zh")),e(this,"theme",s("primary")),e(this,"isLoading",s(!1)),e(this,"app"),e(this,"router"),e(this,"plugins"),e(this,"langMessage",{}),this.initOptions(t)}initOptions(t){this.options=t||{},this.create(t?.root),this.initBuildInGlobalConfig(),this.setGlobalConfig(t?.config),t?.plugins&&t.plugins.forEach((t=>{this.registerPlugin(t)}))}create(t){const e=t||X;return this.app=g(e),this.options.onBeforeLaunch&&this.options.onBeforeLaunch(this),window.webApp=this,this}setUpLang(t){t&&this.registerLangLoader(t),this.lang.value=G()||this.options.lang||"zh",this.setLang(this.lang.value)}createRouter(t){this.router=function({routes:t,routeBase:e,routeType:s}){t&&ut(t);const n=f({history:"hash"===s?b(e):_(e),routes:t||[]});return n.beforeEach((t=>{if(["/kb","/mcp","/settings"].some((e=>t.path.startsWith(e)))&&!ot(1))return"/chat/assistant";t.meta.title?document.title=`${et(t.meta.title)}`:document.title=`${et("APP_HOME","",document.title)}`})),n.afterEach((t=>{t.meta.title?document.title=`${et(t.meta.title)}`:document.title=`${et("APP_HOME","",document.title)}`})),n}({routes:t||[],routeBase:this.options.routeBase||"",routeType:this.options.routeType||"hash"}),this.registerPlugin(this.router)}initBuildInGlobalConfig(){const t=this.app.config.globalProperties;Object.defineProperty(t,"$appLoading",{writable:!1,value:this.isLoading}),Object.defineProperty(t,"$lang",{writable:!1,value:this.lang}),Object.defineProperty(t,"$t",{writable:!1,value:et}),Object.defineProperty(t,"$eventbus",{writable:!1,value:Y})}setGlobalConfig(t){const e=this.app.config.globalProperties;for(const s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);return this}registerLangLoader(t){return tt.registerLangLoader(t),this}registerPlugin(t,...e){return this.app.use(t,...e),this}registerRoutes(t){return t.forEach((t=>{this.router.addRoute(t)})),this}setLang(t){C(t),tt.use(t,this.langMessage),this.lang.value=t;const e=this.options.onSwitchLang;return e&&e(t),this}getLang(){return G()||this.options.lang||"zh"}switchLang(t){return this.setLang(t),this}mount(t){return this.isLoading.value=!0,this.isLoading.value=!1,this.app.mount(t),this.options.onAfterLaunch&&this.options.onAfterLaunch(this),this}onLaunch(t){return this.options.onAfterLaunch=N(this.options.onAfterLaunch,t),this}onBeforeLaunch(t){return this.options.onBeforeLaunch=N(this.options.onBeforeLaunch,t),this}onSwitchLang(t){return this.options.onSwitchLang=N(this.options.onSwitchLang,t),this}onSwitchTheme(t){return this.options.onSwitchTheme=N(this.options.onSwitchTheme,t),this}}const lt=L.create({baseURL:"/",timeout:6e4});lt.interceptors.response.use((t=>t),(t=>{const{status:e}=t.response;return 401===e&&F("login"),403===e&&(E.error("无权限访问"),F("/chat/assistant")),400!==e&&500!==e&&503!==e||t.response.data.message&&E.error(e+" : "+t.response.data.message),Promise.reject(t)}));const pt="jrag",ht="/",mt="Jrag",gt="Jrag",dt="你好，我是 Jrag AI",ft="Hello, I am Jrag AI",bt="Jrag AI",_t=(t,e,s,n)=>lt.post("/v1/auth/jrag/login",{username:t,password:e,validateCode:s,hash:n}),Lt=()=>lt.get("/v1/auth/jrag/logout"),Bt=()=>lt.get("/v1/rest/jrag/session");!async function(){const t=new ct({routeType:"hash",routes:T,routeBase:"",langLoaders:[x],plugins:[w]}),e=await x(t.getLang());if(t.langMessage=e,t.setUpLang([x]),W(),!(location.hash.includes("/login")||location.hash.includes("/logout")))try{const t=await Bt();rt(t.data)}catch(s){rt(null)}t.createRouter(T),t.mount("#app")}();export{S as _,Bt as a,Lt as b,F as c,bt as d,lt as e,ft as f,ht as g,ot as h,mt as i,dt as j,it as k,_t as l,at as m,pt as p,rt as s,et as t,gt as w};
