!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.toStringTag||"@@toStringTag";function u(n,o,a,i){var u=o&&o.prototype instanceof c?o:c,f=Object.create(u.prototype);return r(f,"_invoke",function(n,r,o){var a,i,u,c=0,f=o||[],p=!1,s={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return a=t,i=0,u=e,s.n=n,l}};function d(n,r){for(i=n,u=r,t=0;!p&&c&&!o&&t<f.length;t++){var o,a=f[t],d=s.p,v=a[2];n>3?(o=v===r)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=d&&((o=n<2&&d<a[1])?(i=0,s.v=r,s.n=a[1]):d<v&&(o=n<3||a[0]>r||r>v)&&(a[4]=n,a[5]=r,s.n=v,i=0))}if(o||n>1)return l;throw p=!0,r}return function(o,f,v){if(c>1)throw TypeError("Generator is already running");for(p&&1===f&&d(f,v),i=f,u=v;(t=i<2?e:u)||!p;){a||(i?i<3?(i>1&&(s.n=-1),d(i,u)):s.n=u:s.v=u);try{if(c=2,a){if(i||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((t=(p=s.n<0)?u:n.call(r,s))!==l)break}catch(t){a=e,i=1,u=t}finally{c=1}}return{value:t,done:p}}}(n,a,i),!0),f}var l={};function c(){}function f(){}function p(){}t=Object.getPrototypeOf;var s=[][a]?t(t([][a]())):(r(t={},a,(function(){return this})),t),d=p.prototype=c.prototype=Object.create(s);function v(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,r(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return f.prototype=p,r(d,"constructor",p),r(p,"constructor",f),f.displayName="GeneratorFunction",r(p,i,"GeneratorFunction"),r(d),r(d,i,"Generator"),r(d,a,(function(){return this})),r(d,"toString",(function(){return"[object Generator]"})),(n=function(){return{w:u,m:v}})()}function r(e,t,n,o){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}r=function(e,t,n,o){function i(t,n){r(e,t,(function(e){return this._invoke(t,n,e)}))}t?a?a(e,t,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},r(e,t,n,o)}function o(e,t,n,r,o,a,i){try{var u=e[a](i),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}var a=document.createElement("style");a.innerHTML=".uploader-container[data-v-f6308f62]{font-family:Arial,sans-serif;padding:70px 20px 20px}.uploader-container .top-bar[data-v-f6308f62]{position:fixed;top:0;left:0;right:0;height:50px;background:color-mix(in srgb,var(--n-color-neutral-w),transparent 80%);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.18);box-shadow:0 8px 32px rgba(31,38,135,.1);display:flex;align-items:center;justify-content:left;z-index:100}.uploader-container .top-bar h3[data-v-f6308f62]{margin-left:20px;font-size:20px;font-weight:500;color:var(--n-color-font-dark);text-shadow:0 2px 4px rgba(0,0,0,.1)}.uploader-container .top-bar .menu-button-box[data-v-f6308f62]{position:absolute;display:flex;right:0}.uploader-container .top-bar .menu-button-box .menu-button[data-v-f6308f62]{font-size:24px;margin-right:5px;cursor:pointer;width:36px;height:36px;display:flex;align-items:center;justify-content:center;color:#666;border-radius:8px;transition:all .3s}.uploader-container .top-bar .menu-button-box .menu-button[data-v-f6308f62]:hover{background-color:rgba(0,0,0,.05)}.uploader-container .top-bar .menu-button-box .menu-button.active[data-v-f6308f62]{color:var(--el-color-primary);background-color:rgba(var(--el-color-primary-rgb),.1)}.uploader-container .menu-card[data-v-f6308f62]{position:fixed;top:60px;right:10px;z-index:100}.uploader-container .text-chunk-preview[data-v-f6308f62],.uploader-container .outline-preview[data-v-f6308f62]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.uploader-container .text-chunk-full[data-v-f6308f62],.uploader-container .outline-full[data-v-f6308f62]{max-height:300px;overflow-y:auto}.uploader-container .el-pagination[data-v-f6308f62]{margin-top:20px;display:flex;justify-content:center}\n",document.head.appendChild(a),System.register(["./menuCard-legacy-a38a3a2a.js","../index-legacy-86f72a5c.js","./plugin-vue_export-helper-legacy-1285489a.js","./element-plus-legacy-32443c68.js","./@vue-legacy-6668af3c.js","./vue-router-legacy-50422e91.js","./axios-legacy-ec40b469.js","./mitt-legacy-e809dc6d.js","./lodash-es-legacy-0f78b4f1.js","./@vueuse-legacy-8e4b7021.js","./@element-plus-legacy-196cb965.js","./async-validator-legacy-9f2b928b.js","./@popperjs-legacy-f5ef238f.js","./normalize-wheel-es-legacy-2498f61f.js","./@ctrl-legacy-93ea6807.js"],(function(t){"use strict";var r,a,i,u,l,c,f,p,s,d,v,b,g,h,y,m,x,w,j,k,_,S,C,z;return{setters:[function(e){r=e.M},function(e){a=e.h,i=e.t},function(e){u=e._},function(e){l=e.p,c=e.q,f=e.r,p=e.s},function(e){s=e.d,d=e.r,v=e.f,b=e.ae,g=e.o,h=e.c,y=e.a,m=e.H,x=e.S,w=e.Q,j=e.I,k=e.J,_=e.u,S=e.M,C=e.G,z=e.af},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){var O={class:"uploader-container"},A={class:"top-bar"},P={class:"menu-button-box"},T={class:"text-chunk-preview"},G={class:"text-chunk-full"},I={class:"outline-preview"},M={class:"outline-full"},E=s({__name:"knowledgeBase",setup:function(t){var u=d(null),s=d(!1),E=d([]),F=d(!1),N=d(1),U=d(10),B=d(0),H=function(){u.value.show()},J=function(){var e,t=(e=n().m((function e(){var t,r,o;return n().w((function(e){for(;;)switch(e.p=e.n){case 0:return F.value=!0,e.p=1,e.n=2,n=(N.value-1)*U.value,i=U.value+1,a.get("/v1/rest/jrag/knowledge",{params:{offset:n,limit:i}});case 2:r=e.v,(o=(null===(t=r.data)||void 0===t?void 0:t.data)||[]).length>U.value?(E.value=o.slice(0,U.value),B.value=(N.value+1)*U.value):(E.value=o,B.value=(N.value-1)*U.value+o.length),e.n=4;break;case 3:e.p=3,e.v,E.value=[],B.value=0;case 4:return e.p=4,F.value=!1,e.f(4);case 5:return e.a(2)}var n,i}),e,null,[[1,3,4,5]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function u(e){o(i,r,a,u,l,"next",e)}function l(e){o(i,r,a,u,l,"throw",e)}u(void 0)}))});return function(){return t.apply(this,arguments)}}(),q=function(e){U.value=e,J()},L=function(e){N.value=e,J()};return v((function(){J()})),function(t,n){var o=b("loading");return g(),h("div",O,[y("div",A,[n[4]||(n[4]=y("h3",null,"ðŸ¤– Jrag AI",-1)),y("div",P,[y("span",{class:m(["menu-button",{active:s.value}]),onClick:H},e(n[3]||(n[3]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-menu"},[y("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),y("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),y("line",{x1:"3",y1:"18",x2:"21",y2:"18"})],-1)])),2)])]),x(r,{ref_key:"menuCardRef",ref:u,class:"menu-card",onShowChange:n[0]||(n[0]=function(e){return s.value=e})},null,512),w((g(),j(_(f),{data:E.value,style:{width:"100%"}},{default:k((function(){return[x(_(l),{prop:"fileName",label:_(i)("kb.fileName")},null,8,["label"]),x(_(l),{prop:"description",label:_(i)("kb.description")},null,8,["label"]),x(_(l),{prop:"embeddingModel",label:_(i)("kb.embeddingModel")},null,8,["label"]),x(_(l),{prop:"embeddingProvider",label:_(i)("kb.embeddingProvider")},null,8,["label"]),x(_(l),{label:_(i)("kb.textChunk"),width:"300"},{default:k((function(e){return[x(_(c),{effect:"dark",trigger:"hover",placement:"top",width:"400"},{reference:k((function(){return[y("div",T,S(e.row.textChunk),1)]})),default:k((function(){return[y("div",G,S(e.row.textChunk),1)]})),_:2},1024)]})),_:1},8,["label"]),x(_(l),{label:_(i)("kb.outline"),width:"300"},{default:k((function(e){return[x(_(c),{effect:"dark",trigger:"hover",placement:"top",width:"400"},{reference:k((function(){var t;return[y("div",I,S(null===(t=e.row.outline)||void 0===t?void 0:t.join(", ")),1)]})),default:k((function(){return[y("div",M,[(g(!0),h(C,null,z(e.row.outline,(function(e,t){return g(),h("div",{key:t},S(e),1)})),128))])]})),_:2},1024)]})),_:1},8,["label"])]})),_:1},8,["data"])),[[o,F.value]]),x(_(p),{"current-page":N.value,"onUpdate:currentPage":n[1]||(n[1]=function(e){return N.value=e}),"page-size":U.value,"onUpdate:pageSize":n[2]||(n[2]=function(e){return U.value=e}),"page-sizes":[10,20,50,100],total:B.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:q,onCurrentChange:L},null,8,["current-page","page-size","total"])])}}});t("default",u(E,[["__scopeId","data-v-f6308f62"]]))}}}))}();
