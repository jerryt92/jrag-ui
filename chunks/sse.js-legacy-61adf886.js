!function(){function t(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||e(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){if(t){if("string"==typeof t)return r(t,e);var s={}.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,s=Array(e);r<e;r++)s[r]=t[r];return s}System.register([],(function(r){"use strict";return{execute:function(){var s=r("S",(function(r,n){if(!(this instanceof s))return new s(r,n);this.url=r,n=n||{},this.headers=n.headers||{},this.payload=void 0!==n.payload?n.payload:"",this.method=n.method||this.payload&&"POST"||"GET",this.withCredentials=!!n.withCredentials,this.debug=!!n.debug,this.FIELD_SEPARATOR=":",this.listeners={},this.xhr=null,this.readyState=s.INITIALIZING,this.progress=0,this.chunk="",this.lastEventId="",this.addEventListener=function(t,e){void 0===this.listeners[t]&&(this.listeners[t]=[]),-1===this.listeners[t].indexOf(e)&&this.listeners[t].push(e)},this.removeEventListener=function(t,e){if(void 0!==this.listeners[t]){var r=[];this.listeners[t].forEach((function(t){t!==e&&r.push(t)})),0===r.length?delete this.listeners[t]:this.listeners[t]=r}},this.dispatchEvent=function(t){if(!t)return!0;this.debug,t.source=this;var e="on"+t.type;return(!this.hasOwnProperty(e)||(this[e].call(this,t),!t.defaultPrevented))&&(!this.listeners[t.type]||this.listeners[t.type].every((function(e){return e(t),!t.defaultPrevented})))},this._markClosed=function(){this.xhr=null,this.progress=0,this.chunk="",this._setReadyState(s.CLOSED)},this._setReadyState=function(t){var e=new CustomEvent("readystatechange");e.readyState=t,this.readyState=t,this.dispatchEvent(e)},this._onStreamFailure=function(t){var e=new CustomEvent("error");e.responseCode=t.currentTarget.status,e.data=t.currentTarget.response,this.dispatchEvent(e),this._markClosed()},this._onStreamAbort=function(){this.dispatchEvent(new CustomEvent("abort")),this._markClosed()},this._onStreamProgress=function(t){if(this.xhr)if(this.xhr.status<200||this.xhr.status>=300)this._onStreamFailure(t);else{var e=this.xhr.responseText.substring(this.progress);this.progress+=e.length;var r=(this.chunk+e).split(/(\r\n\r\n|\r\r|\n\n)/g),s=r.pop();r.forEach(function(t){t.trim().length>0&&this.dispatchEvent(this._parseEventChunk(t))}.bind(this)),this.chunk=s}},this._onStreamLoaded=function(t){this._onStreamProgress(t),this.dispatchEvent(this._parseEventChunk(this.chunk)),this.chunk="",this._markClosed()},this._parseEventChunk=function(t){if(!t||0===t.length)return null;this.debug;var e={id:null,retry:null,data:null,event:null};t.split(/\n|\r\n|\r/).forEach(function(t){var r,s,n=t.indexOf(this.FIELD_SEPARATOR);if(n>0){var i=" "===t[n+1]?2:1;r=t.substring(0,n),s=t.substring(n+i)}else{if(!(n<0))return;r=t,s=""}r in e&&("data"===r&&null!==e[r]?e.data+="\n"+s:e[r]=s)}.bind(this)),null!==e.id&&(this.lastEventId=e.id);var r=new CustomEvent(e.event||"message");return r.id=e.id,r.data=e.data||"",r.lastEventId=this.lastEventId,r},this._onReadyStateChange=function(){if(this.xhr&&this.xhr.readyState===XMLHttpRequest.HEADERS_RECEIVED){var r,n={},i=function(t,r){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=e(t))||r&&t&&"number"==typeof t.length){s&&(t=s);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,h=!0,o=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return h=t.done,t},e:function(t){o=!0,a=t},f:function(){try{h||null==s.return||s.return()}finally{if(o)throw a}}}}(this.xhr.getAllResponseHeaders().trim().split("\r\n"));try{for(i.s();!(r=i.n()).done;){var a=t(r.value.split(":")),h=a[0],o=a.slice(1).join(":").trim();n[h.trim().toLowerCase()]=n[h.trim().toLowerCase()]||[],n[h.trim().toLowerCase()].push(o)}}catch(d){i.e(d)}finally{i.f()}var u=new CustomEvent("open");u.responseCode=this.xhr.status,u.headers=n,this.dispatchEvent(u),this._setReadyState(s.OPEN)}},this.stream=function(){if(!this.xhr){for(var t in this._setReadyState(s.CONNECTING),this.xhr=new XMLHttpRequest,this.xhr.addEventListener("progress",this._onStreamProgress.bind(this)),this.xhr.addEventListener("load",this._onStreamLoaded.bind(this)),this.xhr.addEventListener("readystatechange",this._onReadyStateChange.bind(this)),this.xhr.addEventListener("error",this._onStreamFailure.bind(this)),this.xhr.addEventListener("abort",this._onStreamAbort.bind(this)),this.xhr.open(this.method,this.url),this.headers)this.xhr.setRequestHeader(t,this.headers[t]);this.lastEventId.length>0&&this.xhr.setRequestHeader("Last-Event-ID",this.lastEventId),this.xhr.withCredentials=this.withCredentials,this.xhr.send(this.payload)}},this.close=function(){this.readyState!==s.CLOSED&&this.xhr.abort()},(void 0===n.start||n.start)&&this.stream()}));s.INITIALIZING=-1,s.CONNECTING=0,s.OPEN=1,s.CLOSED=2,void 0!==r&&(r.SSE=s)}}}))}();
