import{d as e,r as a,f as l,C as s,w as t,Q as n,R as c,o as d,c as o,a as r,M as u,u as i,F as m}from"./@vue-c3e0918f.js";import{t as v,l as h}from"../index-48758dca.js";import{_ as k}from"./plugin-vue_export-helper-3b0dab4c.js";const g={class:"menu-card-card-header"},p={class:"menu-card-card-header-title"},b={class:"menu-card-card-header-title-text"},f={class:"menu-card-card-header-title-text-title"},w={class:"menu-card-content"},C={class:"menu-card-list"},E={key:0},L={key:1};var x=k(e({__name:"menuCard",emits:["show-change"],setup(e,{expose:k,emit:x}){k({show:function(){M.value=!M.value,M.value&&setTimeout((()=>{j.value=!0,document.addEventListener("click",O)}),0)}});const _=x,M=a(!1),y=a(null),j=a(!1),I=a("auto"),R=e=>{if("auto"===e){const e=window.matchMedia("(prefers-color-scheme: dark)").matches?"enabled":"disabled";document.documentElement.classList.toggle("dark","enabled"===e)}else document.documentElement.classList.toggle("dark","enabled"===e)},S=()=>{const e=["enabled","disabled","auto"],a=(e.indexOf(I.value)+1)%e.length;I.value=e[a],localStorage.setItem("dark-mode",I.value),R(I.value)},F=e=>{"auto"===I.value&&document.documentElement.classList.toggle("dark",e.matches)};const O=e=>{j.value&&y.value&&!y.value.contains(e.target)&&(M.value=!1,j.value=!1,document.removeEventListener("click",O))};l((()=>{(()=>{const e=localStorage.getItem("dark-mode");I.value=e||"auto",R(I.value)})(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",F)})),s((()=>{document.removeEventListener("click",O),window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",F)})),t(M,(e=>{_("show-change",e)}));const Q=e=>{window.location.href="/#"+e};return(e,a)=>n((d(),o("div",{ref_key:"menuCardRef",ref:y,class:"menu-card-card"},[r("div",g,[r("div",p,[r("div",b,[r("div",f,u(i(v)("common.system.options")),1)])])]),r("div",w,[r("ul",C,[a[5]||(a[5]=r("hr",null,null,-1)),r("li",{class:"menu-card-item",onClick:a[0]||(a[0]=e=>Q("/"))},u("üè† "+i(v)("homepage")),1),a[6]||(a[6]=r("hr",null,null,-1)),r("li",{class:"menu-card-item",onClick:a[1]||(a[1]=e=>Q("/chat/assistant"))},u("ü§ñ "+i(v)("ai.assistant")),1),"user"===i(h)?(d(),o("span",E,[r("li",{class:"menu-card-item",onClick:a[2]||(a[2]=e=>Q("/kb"))},u("üìö "+i(v)("kb.knowledge.base")),1)])):m("",!0),a[7]||(a[7]=r("hr",null,null,-1)),r("li",{class:"menu-card-item",onClick:S},[n(r("span",null,"‚òÄÔ∏è "+u(i(v)("dark.mode.light")),513),[[c,"disabled"===I.value]]),n(r("span",null,"üåô "+u(i(v)("dark.mode.dark")),513),[[c,"enabled"===I.value]]),n(r("span",null,"üåì "+u(i(v)("dark.mode.auto")),513),[[c,"auto"===I.value]])]),"user"===i(h)?(d(),o("span",L,[a[4]||(a[4]=r("hr",null,null,-1)),r("li",{class:"menu-card-item",onClick:a[3]||(a[3]=e=>Q("/logout"))},u("‚èèÔ∏è "+i(v)("logout")),1)])):m("",!0)])])],512)),[[c,M.value]])}}),[["__scopeId","data-v-06b641ba"]]);export{x as M};
