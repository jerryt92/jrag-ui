import{e,g as a,p as l,t as s}from"../index-b8d32494.js";import{_ as t}from"./plugin-vue_export-helper-3b0dab4c.js";import{c as o,v as i,y as n,A as r,t as u,d,g,f as p}from"./element-plus-06bb7c4a.js";import{d as m,F as v,j as c,o as b,c as h,Q as f,u as _,J as y,X as V,M as w,a as x,a4 as M}from"./@vue-bb747027.js";const $=s=>e.post(`/v1${a}rest/${l}/property/get`,s),j=s=>e.put(`/v1${a}rest/${l}/property`,s);const B={key:0,class:"section-title"},I={class:"rag-weight-slider"},S={class:"rag-weight-values"},E={class:"settings-actions"};var T=t(m({__name:"RagSettingsPanel",props:{form:{},saving:{type:Boolean},showTitle:{type:Boolean,default:!1}},emits:["save"],setup(e,{emit:a}){const l=e,t=a,m=v(l,"form"),$=v(l,"saving"),j=c({get:()=>Math.round(100*m.value.denseWeight),set:e=>{const a=Math.min(100,Math.max(0,e));m.value.denseWeight=a/100,m.value.sparseWeight=(100-a)/100}}),T=e=>{const a=Math.min(100,Math.max(0,Math.round(e))),l=100-a;return`${s("settings.rag.weight.dense")}: ${a}% / ${s("settings.rag.weight.sparse")}: ${l}%`};return(a,l)=>(b(),h("div",null,[e.showTitle?(b(),h("div",B,f(_(s)("settings.rag.section")),1)):y("",!0),V(_(g),{model:m.value,"label-width":"220px"},{default:w((()=>[V(_(o),{label:_(s)("settings.rag.topk")},{default:w((()=>[V(_(i),{modelValue:m.value.topK,"onUpdate:modelValue":l[0]||(l[0]=e=>m.value.topK=e),min:1},null,8,["modelValue"])])),_:1},8,["label"]),V(_(o),{label:_(s)("settings.rag.metric.type.dense")},{default:w((()=>[V(_(n),{modelValue:m.value.metricType,"onUpdate:modelValue":l[1]||(l[1]=e=>m.value.metricType=e),class:"settings-select"},{default:w((()=>[V(_(r),{label:"COSINE",value:"COSINE"}),V(_(r),{label:"IP",value:"IP"}),V(_(r),{label:"L2",value:"L2"})])),_:1},8,["modelValue"])])),_:1},8,["label"]),V(_(o),{label:_(s)("settings.rag.metric.type.sparse")},{default:w((()=>[V(_(n),{"model-value":"BM25",class:"settings-select",disabled:""},{default:w((()=>[V(_(r),{label:"BM25",value:"BM25"})])),_:1})])),_:1},8,["label"]),V(_(o),{label:_(s)("settings.rag.weight.label")},{default:w((()=>[x("div",I,[V(_(u),{modelValue:j.value,"onUpdate:modelValue":l[2]||(l[2]=e=>j.value=e),min:0,max:100,"show-tooltip":!0,"format-tooltip":T},null,8,["modelValue"]),x("div",S,[x("span",null,f(_(s)("settings.rag.weight.dense"))+": "+f(j.value)+"%",1),x("span",null,f(_(s)("settings.rag.weight.sparse"))+": "+f(100-j.value)+"%",1)])])])),_:1},8,["label"]),V(_(o),{label:_(s)("settings.rag.metric.score.expr")},{default:w((()=>[V(_(d),{modelValue:m.value.metricScoreExpr,"onUpdate:modelValue":l[3]||(l[3]=e=>m.value.metricScoreExpr=e)},null,8,["modelValue"])])),_:1},8,["label"])])),_:1},8,["model"]),x("div",E,[V(_(p),{type:"primary",loading:$.value,onClick:l[4]||(l[4]=e=>t("save"))},{default:w((()=>[M(f(_(s)("settings.save")),1)])),_:1},8,["loading"])])]))}}),[["__scopeId","data-v-3f4db90e"]]);export{T as R,$ as g,j as p};
