!function(){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,a,o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",l=o.toStringTag||"@@toStringTag";function u(e,o,r,l){var u=o&&o.prototype instanceof i?o:i,d=Object.create(u.prototype);return n(d,"_invoke",function(e,n,o){var r,l,u,i=0,d=o||[],s=!1,f={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return r=e,l=0,u=t,f.n=n,c}};function p(e,n){for(l=e,u=n,a=0;!s&&i&&!o&&a<d.length;a++){var o,r=d[a],p=f.p,v=r[2];e>3?(o=v===n)&&(u=r[(l=r[4])?5:(l=3,3)],r[4]=r[5]=t):r[0]<=p&&((o=e<2&&p<r[1])?(l=0,f.v=n,f.n=r[1]):p<v&&(o=e<3||r[0]>n||n>v)&&(r[4]=e,r[5]=n,f.n=v,l=0))}if(o||e>1)return c;throw s=!0,n}return function(o,d,v){if(i>1)throw TypeError("Generator is already running");for(s&&1===d&&p(d,v),l=d,u=v;(a=l<2?t:u)||!s;){r||(l?l<3?(l>1&&(f.n=-1),p(l,u)):f.n=u:f.v=u);try{if(i=2,r){if(l||(o="next"),a=r[o]){if(!(a=a.call(r,u)))throw TypeError("iterator result is not an object");if(!a.done)return a;u=a.value,l<2&&(l=0)}else 1===l&&(a=r.return)&&a.call(r),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);r=t}else if((a=(s=f.n<0)?u:e.call(n,f))!==c)break}catch(a){r=t,l=1,u=a}finally{i=1}}return{value:a,done:s}}}(e,r,l),!0),d}var c={};function i(){}function d(){}function s(){}a=Object.getPrototypeOf;var f=[][r]?a(a([][r]())):(n(a={},r,(function(){return this})),a),p=s.prototype=i.prototype=Object.create(f);function v(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,n(e,l,"GeneratorFunction")),e.prototype=Object.create(p),e}return d.prototype=s,n(p,"constructor",s),n(s,"constructor",d),d.displayName="GeneratorFunction",n(s,l,"GeneratorFunction"),n(p),n(p,l,"Generator"),n(p,r,(function(){return this})),n(p,"toString",(function(){return"[object Generator]"})),(e=function(){return{w:u,m:v}})()}function n(e,t,a,o){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}n=function(e,t,a,o){function l(t,a){n(e,t,(function(e){return this._invoke(t,a,e)}))}t?r?r(e,t,{value:a,enumerable:!o,configurable:!o,writable:!o}):e[t]=a:(l("next",0),l("throw",1),l("return",2))},n(e,t,a,o)}function t(e,n,t,a,o,r,l){try{var u=e[r](l),c=u.value}catch(e){return void t(e)}u.done?n(c):Promise.resolve(c).then(a,o)}function a(e){return function(){var n=this,a=arguments;return new Promise((function(o,r){var l=e.apply(n,a);function u(e){t(l,o,r,u,c,"next",e)}function c(e){t(l,o,r,u,c,"throw",e)}u(void 0)}))}}var o=document.createElement("style");o.innerHTML=".json-template-form-container[data-v-ddab4930]{padding:20px}.json-template-form-container .download-template[data-v-ddab4930]{text-align:center}.json-template-form-container .download-template p[data-v-ddab4930]{margin-bottom:15px;color:#606266}.json-template-form-container .upload-section[data-v-ddab4930]{border:1px dashed #d9d9d9;border-radius:6px;padding:20px;text-align:center;transition:border-color .3s}.json-template-form-container .upload-section[data-v-ddab4930]:hover{border-color:var(--el-color-primary)}.json-template-form-container .file-info[data-v-ddab4930]{padding:10px;background-color:#f5f7fa;border-radius:4px;font-size:14px;color:#606266;display:flex;align-items:center;justify-content:space-between}.json-template-form-container .submit-btn-container[data-v-ddab4930]{display:flex;justify-content:flex-end;margin-top:20px}.container[data-v-1c93acaf]{width:100%;min-height:500px;padding:20px;background:color-mix(in srgb,var(--n-color-neutral-w),transparent 20%);backdrop-filter:blur(10px);border-radius:var(--n-radius-triple)}[data-v-1c93acaf] .el-upload-dragger{padding:20px}\n",document.head.appendChild(o),System.register(["../index-legacy-c605b038.js","./QAForm-legacy-bfcf6c21.js","./@element-plus-legacy-931e6d36.js","./index-legacy-ec9396cf.js","./plugin-vue_export-helper-legacy-1285489a.js","./element-plus-legacy-92646882.js","./@vue-legacy-799a045e.js","./vue-router-legacy-e9561e30.js","./axios-legacy-ec40b469.js","./mitt-legacy-e809dc6d.js","./lodash-es-legacy-d6cd1adf.js","./@popperjs-legacy-3f90cf56.js","./@vueuse-legacy-98dafae0.js","./async-validator-legacy-9f2b928b.js","./@ctrl-legacy-93ea6807.js","./normalize-wheel-es-legacy-2498f61f.js","./topoBar-legacy-f7fd6df7.js","./RagSettingsPanel-legacy-77847db3.js"],(function(n){"use strict";var t,o,r,l,u,c,i,d,s,f,p,v,m,g,b,y,h,j,x,w,_,k,F,V,O,S,T;return{setters:[function(e){t=e.t},function(e){o=e.Q},function(e){r=e.D},function(e){l=e.d,u=e.i},function(e){c=e._},function(e){i=e.f,d=e.m,s=e.G,f=e.a,p=e.H,v=e.F,m=e.D,g=e.h},function(e){b=e.d,y=e.r,h=e.o,j=e.c,x=e.a,w=e.X,_=e.M,k=e.a4,F=e.Q,V=e.u,O=e.J,S=e.w,T=e.A},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){var G={class:"json-template-form-container"},B={class:"download-template"},M={class:"upload-section",style:{"margin-top":"20px"}},P={class:"el-upload__text"},C={key:0,class:"file-info",style:{"margin-top":"10px"}},q={class:"submit-btn-container"},A=b({__name:"JsonTemplateForm",emits:["add-success","loading-change"],setup:function(n,o){var c=o.expose,v=o.emit;c({clearForm:Q});var m=y(!1),g=y(!1),b=y(null),S=y([]),T=y(),A=function(){var n=a(e().m((function n(){return e().w((function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,m.value=!0,e.n=1,l();case 1:e.n=3;break;case 2:e.p=2,e.v,f.error(t("common.download.failed"));case 3:return e.p=3,m.value=!1,e.f(3);case 4:return e.a(2)}}),n,null,[[0,2,3,4]])})));return function(){return n.apply(this,arguments)}}(),E=function(e,n){n.length>1?S.value=[e]:S.value=n,b.value=e.raw||null},R=function(e){T.value.clearFiles();var n=e[0];n.uid=p(),T.value.handleStart(n)},z=function(){b.value=null,S.value=[]},D=function(){var n=a(e().m((function n(){var a;return e().w((function(e){for(;;)switch(e.p=e.n){case 0:if(b.value){e.n=1;break}return f.warning(t("kb.please.select.file")),e.a(2);case 1:return e.p=1,g.value=!0,v("loading-change",!0),e.n=2,u(b.value);case 2:f.success(t("common.success")),v("add-success"),Q(),e.n=4;break;case 3:e.p=3,a=e.v,!a.response&&(f.error(t("common.file.change")),Q());case 4:return e.p=4,g.value=!1,v("loading-change",!1),e.f(4);case 5:return e.a(2)}}),n,null,[[1,3,4,5]])})));return function(){return n.apply(this,arguments)}}(),L=function(e){if(0===e)return"0 Bytes";var n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(2))+" "+["Bytes","KB","MB","GB"][n]};function Q(){var e;b.value=null,S.value=[],null===(e=T.value)||void 0===e||e.clearFiles()}return function(e,n){return h(),j("div",G,[x("div",B,[w(V(i),{type:"primary",onClick:A,loading:m.value},{default:_((function(){return[k(F(V(t)("kb.download.json.template")),1)]})),_:1},8,["loading"])]),x("div",M,[w(V(s),{ref_key:"uploadRef",ref:T,"auto-upload":!1,multiple:!1,"on-change":E,"on-remove":z,"on-exceed":R,"file-list":S.value,accept:".json",limit:1,drag:""},{default:_((function(){return[w(V(d),{class:"el-icon--upload"},{default:_((function(){return[w(V(r))]})),_:1}),x("div",P,[x("em",null,F(V(t)("kb.json.template.drop.or.click.upload")),1)])]})),_:1},8,["file-list"])]),b.value?(h(),j("div",C,[x("p",null,F(V(t)("common.selected.file"))+": "+F(b.value.name)+" ("+F(L(b.value.size))+") ",1)])):O("",!0),x("div",q,[w(V(i),{type:"success",disabled:!b.value,loading:g.value,onClick:D},{default:_((function(){return[k(F(V(t)("common.submit")),1)]})),_:1},8,["disabled","loading"])])])}}}),E=c(A,[["__scopeId","data-v-ddab4930"]]),R={class:"container"},z=b({__name:"KbAddDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue","add-success"],setup:function(e,n){var a=n.emit,r=y(),l=y(),u=e,c=a,i=y("qa"),d=y(u.modelValue),s=y(!1);S((function(){return u.modelValue}),(function(e){d.value=e}));var f=function(e){s.value=e},p=function(){c("add-success"),b()},b=function(){i.value="qa",r.value.clearForm(),l.value.clearForm(),c("update:modelValue",!1)};return function(e,n){return h(),T(V(g),{title:V(t)("kb.knowledge.add"),"close-on-click-modal":!1,onClose:b,modelValue:d.value,"onUpdate:modelValue":n[1]||(n[1]=function(e){return d.value=e}),"append-to-body":"",width:"1000px",draggable:"",loading:s.value},{default:_((function(){return[x("div",R,[w(V(v),{modelValue:i.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return i.value=e}),type:"card"},{default:_((function(){return[w(V(m),{label:V(t)("kb.knowledge.add.qa"),name:"qa"},{default:_((function(){return[w(o,{ref_key:"qaFormRef",ref:r,onAddSuccess:p,onLoadingChange:f},null,512)]})),_:1},8,["label"]),w(V(m),{label:V(t)("kb.knowledge.add.json.template"),name:"json"},{default:_((function(){return[w(E,{ref_key:"jsonTemplateFormRef",ref:l,onAddSuccess:p,onLoadingChange:f},null,512)]})),_:1},8,["label"])]})),_:1},8,["modelValue"])])]})),_:1},8,["title","modelValue","loading"])}}});n("default",c(z,[["__scopeId","data-v-1c93acaf"]]))}}}))}();
