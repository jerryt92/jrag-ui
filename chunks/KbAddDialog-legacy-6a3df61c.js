!function(){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var a,t,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",l=r.toStringTag||"@@toStringTag";function u(e,r,o,l){var u=r&&r.prototype instanceof i?r:i,d=Object.create(u.prototype);return n(d,"_invoke",function(e,n,r){var o,l,u,i=0,d=r||[],s=!1,f={p:0,n:0,v:a,a:p,f:p.bind(a,4),d:function(e,n){return o=e,l=0,u=a,f.n=n,c}};function p(e,n){for(l=e,u=n,t=0;!s&&i&&!r&&t<d.length;t++){var r,o=d[t],p=f.p,m=o[2];e>3?(r=m===n)&&(u=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=a):o[0]<=p&&((r=e<2&&p<o[1])?(l=0,f.v=n,f.n=o[1]):p<m&&(r=e<3||o[0]>n||n>m)&&(o[4]=e,o[5]=n,f.n=m,l=0))}if(r||e>1)return c;throw s=!0,n}return function(r,d,m){if(i>1)throw TypeError("Generator is already running");for(s&&1===d&&p(d,m),l=d,u=m;(t=l<2?a:u)||!s;){o||(l?l<3?(l>1&&(f.n=-1),p(l,u)):f.n=u:f.v=u);try{if(i=2,o){if(l||(r="next"),t=o[r]){if(!(t=t.call(o,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(u=TypeError("The iterator does not provide a '"+r+"' method"),l=1);o=a}else if((t=(s=f.n<0)?u:e.call(n,f))!==c)break}catch(t){o=a,l=1,u=t}finally{i=1}}return{value:t,done:s}}}(e,o,l),!0),d}var c={};function i(){}function d(){}function s(){}t=Object.getPrototypeOf;var f=[][o]?t(t([][o]())):(n(t={},o,(function(){return this})),t),p=s.prototype=i.prototype=Object.create(f);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,n(e,l,"GeneratorFunction")),e.prototype=Object.create(p),e}return d.prototype=s,n(p,"constructor",s),n(s,"constructor",d),d.displayName="GeneratorFunction",n(s,l,"GeneratorFunction"),n(p),n(p,l,"Generator"),n(p,o,(function(){return this})),n(p,"toString",(function(){return"[object Generator]"})),(e=function(){return{w:u,m:m}})()}function n(e,a,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}n=function(e,a,t,r){function l(a,t){n(e,a,(function(e){return this._invoke(a,t,e)}))}a?o?o(e,a,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[a]=t:(l("next",0),l("throw",1),l("return",2))},n(e,a,t,r)}function a(e,n,a,t,r,o,l){try{var u=e[o](l),c=u.value}catch(e){return void a(e)}u.done?n(c):Promise.resolve(c).then(t,r)}function t(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var l=e.apply(n,t);function u(e){a(l,r,o,u,c,"next",e)}function c(e){a(l,r,o,u,c,"throw",e)}u(void 0)}))}}var r=document.createElement("style");r.innerHTML=".qa-form-container .qa-form[data-v-5dac4550] .el-form-item{margin-bottom:20px}.qa-form-container .qa-form[data-v-5dac4550] .el-form-item__label{font-weight:500}.qa-form-container .submit-btn-container[data-v-5dac4550]{display:flex;margin-top:10px;width:100%}.json-template-form-container[data-v-ddab4930]{padding:20px}.json-template-form-container .download-template[data-v-ddab4930]{text-align:center}.json-template-form-container .download-template p[data-v-ddab4930]{margin-bottom:15px;color:#606266}.json-template-form-container .upload-section[data-v-ddab4930]{border:1px dashed #d9d9d9;border-radius:6px;padding:20px;text-align:center;transition:border-color .3s}.json-template-form-container .upload-section[data-v-ddab4930]:hover{border-color:var(--el-color-primary)}.json-template-form-container .file-info[data-v-ddab4930]{padding:10px;background-color:#f5f7fa;border-radius:4px;font-size:14px;color:#606266;display:flex;align-items:center;justify-content:space-between}.json-template-form-container .submit-btn-container[data-v-ddab4930]{display:flex;justify-content:flex-end;margin-top:20px}.container[data-v-1c93acaf]{width:100%;min-height:500px;padding:20px;background:color-mix(in srgb,var(--n-color-neutral-w),transparent 20%);backdrop-filter:blur(10px);border-radius:var(--n-radius-triple)}[data-v-1c93acaf] .el-upload-dragger{padding:20px}\n",document.head.appendChild(r),System.register(["../index-legacy-94af24f8.js","./index-legacy-4a063dd5.js","./plugin-vue_export-helper-legacy-1285489a.js","./element-plus-legacy-99ea3658.js","./@vue-legacy-799a045e.js","./@element-plus-legacy-931e6d36.js","./vue-router-legacy-e9561e30.js","./axios-legacy-ec40b469.js","./mitt-legacy-e809dc6d.js","./lodash-es-legacy-d6cd1adf.js","./@popperjs-legacy-3f90cf56.js","./@vueuse-legacy-98dafae0.js","./async-validator-legacy-9f2b928b.js","./@ctrl-legacy-93ea6807.js","./normalize-wheel-es-legacy-2498f61f.js","./oem-legacy-aacc897f.js","./topoBar-legacy-7946bae5.js","./property.api-legacy-ee9449ed.js"],(function(n){"use strict";var a,r,o,l,u,c,i,d,s,f,p,m,v,g,b,y,h,w,j,_,x,k,q,V,F,O,S,T,B,C,G,M;return{setters:[function(e){a=e.t},function(e){r=e.p,o=e.d,l=e.i},function(e){u=e._},function(e){c=e.c,i=e.d,d=e.f,s=e.g,f=e.a,p=e.m,m=e.F,v=e.G,g=e.D,b=e.B,y=e.h},function(e){h=e.d,w=e.r,j=e.aa,_=e.o,x=e.c,k=e.U,q=e.A,V=e.M,F=e.X,O=e.u,S=e.a,T=e.a4,B=e.Q,C=e.J,G=e.w},function(e){M=e.D},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){var P={class:"qa-form-container"},U={class:"submit-btn-container"},A=h({__name:"QAForm",emits:["add-success","loading-change"],setup:function(n,o){var l=o.expose,u=o.emit,p=w(),m=w(!1);l({clearForm:function(){g.value.question="",g.value.answer="",g.value.description="",g.value.tags=[],p.value&&p.value.clearValidate()}});var v=u,g=w({question:"",answer:"",description:"",tags:[]}),b={question:[{required:!0,message:a("common.input.required"),trigger:"blur"}],answer:[{required:!0,message:a("common.input.required"),trigger:"blur"}]};var y=function(){var n=t(e().m((function n(){return e().w((function(n){for(;;)switch(n.n){case 0:if(p.value){n.n=1;break}return n.a(2);case 1:return n.n=2,p.value.validate(function(){var n=t(e().m((function n(t){var o;return e().w((function(e){for(;;)switch(e.p=e.n){case 0:if(!t){e.n=5;break}return m.value=!0,v("loading-change",!0),e.p=1,o=[{outline:[g.value.question],textChunk:g.value.answer,description:g.value.description}],e.n=2,r(o);case 2:f.success(a("common.success")),v("add-success"),e.n=4;break;case 3:e.p=3,e.v,f.error(a("common.fail"));case 4:return e.p=4,m.value=!1,v("loading-change",!1),e.f(4);case 5:return e.a(2)}}),n,null,[[1,3,4,5]])})));return function(e){return n.apply(this,arguments)}}());case 2:return n.a(2)}}),n)})));return function(){return n.apply(this,arguments)}}();return function(e,n){var t=j("loading");return _(),x("div",P,[k((_(),q(O(s),{ref_key:"qaFormRef",ref:p,model:g.value,rules:b,"label-width":"100px",class:"qa-form"},{default:V((function(){return[F(O(c),{label:O(a)("kb.question"),prop:"question"},{default:V((function(){return[F(O(i),{modelValue:g.value.question,"onUpdate:modelValue":n[0]||(n[0]=function(e){return g.value.question=e}),placeholder:O(a)("common.placeholder")},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),F(O(c),{label:O(a)("kb.answer"),prop:"answer"},{default:V((function(){return[F(O(i),{modelValue:g.value.answer,"onUpdate:modelValue":n[1]||(n[1]=function(e){return g.value.answer=e}),placeholder:O(a)("common.placeholder"),type:"textarea",rows:6},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),F(O(c),{label:O(a)("kb.description")},{default:V((function(){return[F(O(i),{modelValue:g.value.description,"onUpdate:modelValue":n[2]||(n[2]=function(e){return g.value.description=e}),placeholder:O(a)("common.placeholder")},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),F(O(c),null,{default:V((function(){return[S("div",U,[F(O(d),{type:"primary",onClick:y},{default:V((function(){return[T(B(O(a)("common.submit")),1)]})),_:1})])]})),_:1})]})),_:1},8,["model"])),[[t,m.value]])])}}}),E=u(A,[["__scopeId","data-v-5dac4550"]]),R={class:"json-template-form-container"},z={class:"download-template"},D={class:"upload-section",style:{"margin-top":"20px"}},I={class:"el-upload__text"},L={key:0,class:"file-info",style:{"margin-top":"10px"}},J={class:"submit-btn-container"},K=h({__name:"JsonTemplateForm",emits:["add-success","loading-change"],setup:function(n,r){var u=r.expose,c=r.emit;u({clearForm:U});var i=w(!1),s=w(!1),g=w(null),b=w([]),y=w(),h=function(){var n=t(e().m((function n(){return e().w((function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,i.value=!0,e.n=1,o();case 1:e.n=3;break;case 2:e.p=2,e.v,f.error(a("common.download.failed"));case 3:return e.p=3,i.value=!1,e.f(3);case 4:return e.a(2)}}),n,null,[[0,2,3,4]])})));return function(){return n.apply(this,arguments)}}(),j=function(e,n){n.length>1?b.value=[e]:b.value=n,g.value=e.raw||null},k=function(e){y.value.clearFiles();var n=e[0];n.uid=v(),y.value.handleStart(n)},q=function(){g.value=null,b.value=[]},G=function(){var n=t(e().m((function n(){var t;return e().w((function(e){for(;;)switch(e.p=e.n){case 0:if(g.value){e.n=1;break}return f.warning(a("kb.please.select.file")),e.a(2);case 1:return e.p=1,s.value=!0,c("loading-change",!0),e.n=2,l(g.value);case 2:f.success(a("common.success")),c("add-success"),U(),e.n=4;break;case 3:e.p=3,t=e.v,!t.response&&(f.error(a("common.file.change")),U());case 4:return e.p=4,s.value=!1,c("loading-change",!1),e.f(4);case 5:return e.a(2)}}),n,null,[[1,3,4,5]])})));return function(){return n.apply(this,arguments)}}(),P=function(e){if(0===e)return"0 Bytes";var n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(2))+" "+["Bytes","KB","MB","GB"][n]};function U(){var e;g.value=null,b.value=[],null===(e=y.value)||void 0===e||e.clearFiles()}return function(e,n){return _(),x("div",R,[S("div",z,[F(O(d),{type:"primary",onClick:h,loading:i.value},{default:V((function(){return[T(B(O(a)("kb.download.json.template")),1)]})),_:1},8,["loading"])]),S("div",D,[F(O(m),{ref_key:"uploadRef",ref:y,"auto-upload":!1,multiple:!1,"on-change":j,"on-remove":q,"on-exceed":k,"file-list":b.value,accept:".json",limit:1,drag:""},{default:V((function(){return[F(O(p),{class:"el-icon--upload"},{default:V((function(){return[F(O(M))]})),_:1}),S("div",I,[S("em",null,B(O(a)("kb.json.template.drop.or.click.upload")),1)])]})),_:1},8,["file-list"])]),g.value?(_(),x("div",L,[S("p",null,B(O(a)("common.selected.file"))+": "+B(g.value.name)+" ("+B(P(g.value.size))+") ",1)])):C("",!0),S("div",J,[F(O(d),{type:"success",disabled:!g.value,loading:s.value,onClick:G},{default:V((function(){return[T(B(O(a)("common.submit")),1)]})),_:1},8,["disabled","loading"])])])}}}),Q=u(K,[["__scopeId","data-v-ddab4930"]]),H={class:"container"},N=h({__name:"KbAddDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue","add-success"],setup:function(e,n){var t=n.emit,r=w(),o=w(),l=e,u=t,c=w("qa"),i=w(l.modelValue),d=w(!1);G((function(){return l.modelValue}),(function(e){i.value=e}));var s=function(e){d.value=e},f=function(){u("add-success"),p()},p=function(){c.value="qa",r.value.clearForm(),o.value.clearForm(),u("update:modelValue",!1)};return function(e,n){return _(),q(O(y),{title:O(a)("kb.knowledge.add"),"close-on-click-modal":!1,onClose:p,modelValue:i.value,"onUpdate:modelValue":n[1]||(n[1]=function(e){return i.value=e}),"append-to-body":"",width:"1000px",draggable:"",loading:d.value},{default:V((function(){return[S("div",H,[F(O(g),{modelValue:c.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return c.value=e}),type:"card"},{default:V((function(){return[F(O(b),{label:O(a)("kb.knowledge.add.qa"),name:"qa"},{default:V((function(){return[F(E,{ref_key:"qaFormRef",ref:r,onAddSuccess:f,onLoadingChange:s},null,512)]})),_:1},8,["label"]),F(O(b),{label:O(a)("kb.knowledge.add.json.template"),name:"json"},{default:V((function(){return[F(Q,{ref_key:"jsonTemplateFormRef",ref:o,onAddSuccess:f,onLoadingChange:s},null,512)]})),_:1},8,["label"])]})),_:1},8,["modelValue"])])]})),_:1},8,["title","modelValue","loading"])}}});n("default",u(N,[["__scopeId","data-v-1c93acaf"]]))}}}))}();
