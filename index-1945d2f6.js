var e=Object.defineProperty,t=(t,s,n)=>(((t,s,n)=>{s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n})(t,"symbol"!=typeof s?s+"":s,n),n);export function __vite_legacy_guard(){import("data:text/javascript,")}import{r as s,G as n,w as o,d as r,j as a,c as i,X as u,M as c,u as l,L as p,a9 as h,o as m,ap as g}from"./chunks/@vue-bb747027.js";import{u as d,c as f,a as b,b as _}from"./chunks/vue-router-6370cc0f.js";import{a as L}from"./chunks/axios-ff411c8f.js";import{z as B,e as v,E as y,a as E,b as w}from"./chunks/element-plus-06bb7c4a.js";import{m as P}from"./chunks/mitt-106818fe.js";import{t as k,u as j,b as I,v as A}from"./chunks/lodash-es-7a4ab7c3.js";import"./chunks/@popperjs-66964824.js";import"./chunks/@vueuse-09ca9f25.js";import"./chunks/@element-plus-ccefd8d4.js";import"./chunks/async-validator-b6f94fc9.js";import"./chunks/@ctrl-d2fe7c9e.js";import"./chunks/normalize-wheel-es-233dc293.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const M={},S=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`${e}`)in M)return;M[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script",n.crossOrigin=""),n.href=e,document.head.appendChild(n),t?new Promise(((e,t)=>{n.addEventListener("load",e),n.addEventListener("error",t)})):void 0}))).then((()=>e())):e()};const T=[{path:"/login",name:"Login",component:()=>S((()=>import("./chunks/Login-98ee4084.js")),["chunks/Login-98ee4084.js","assets/Login-a0757f7b.css","chunks/@vue-bb747027.js","chunks/vue-router-6370cc0f.js","chunks/axios-ff411c8f.js","chunks/element-plus-06bb7c4a.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/@element-plus-ccefd8d4.js","chunks/lodash-es-7a4ab7c3.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/plugin-vue_export-helper-3b0dab4c.js","chunks/mitt-106818fe.js"])},{path:"/logout",name:"Logout",component:()=>S((()=>import("./chunks/Logout-76aeeac5.js")),["chunks/Logout-76aeeac5.js","chunks/vue-router-6370cc0f.js","chunks/@vue-bb747027.js","chunks/axios-ff411c8f.js","chunks/element-plus-06bb7c4a.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/@element-plus-ccefd8d4.js","chunks/lodash-es-7a4ab7c3.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/mitt-106818fe.js"])},{path:"/",name:"Index",component:()=>S((()=>import("./chunks/HomePage-a00e149e.js")),["chunks/HomePage-a00e149e.js","assets/HomePage-4d213e3a.css","chunks/vue-router-6370cc0f.js","chunks/@vue-bb747027.js","chunks/topoBar-30dae90b.js","assets/topoBar-ac046675.css","chunks/plugin-vue_export-helper-3b0dab4c.js","chunks/ai.api-1651a5b6.js","chunks/lodash-es-7a4ab7c3.js","chunks/axios-ff411c8f.js","chunks/element-plus-06bb7c4a.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/@element-plus-ccefd8d4.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/mitt-106818fe.js"])},...[{path:"/chat/assistant",name:"AIAssistant",component:()=>S((()=>import("./chunks/AIAssistantPage-975a2e96.js")),["chunks/AIAssistantPage-975a2e96.js","assets/AIAssistantPage-9f10c815.css","chunks/@vue-bb747027.js","chunks/@element-plus-ccefd8d4.js","chunks/markdown-it-cd7d6dfa.js","chunks/mdurl-265342ab.js","chunks/uc.micro-caa990fc.js","chunks/linkify-it-fb3f2949.js","chunks/punycode.js-94cdf097.js","chunks/ai.api-1651a5b6.js","chunks/plugin-vue_export-helper-3b0dab4c.js","chunks/element-plus-06bb7c4a.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/lodash-es-7a4ab7c3.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/vue-router-6370cc0f.js","chunks/topoBar-30dae90b.js","assets/topoBar-ac046675.css","chunks/axios-ff411c8f.js","chunks/mitt-106818fe.js"])},{path:"/chat/speech",name:"SpeechDemo",component:()=>S((()=>import("./chunks/SpeechDemo-6a611fc7.js")),["chunks/SpeechDemo-6a611fc7.js","chunks/@vue-bb747027.js","chunks/plugin-vue_export-helper-3b0dab4c.js"])}],...[{path:"/kb",name:"knowledgeBase",component:()=>S((()=>import("./chunks/index-ada9b63c.js").then((function(e){return e.a}))),["chunks/index-ada9b63c.js","assets/index-440858c7.css","chunks/@vue-bb747027.js","chunks/plugin-vue_export-helper-3b0dab4c.js","chunks/element-plus-06bb7c4a.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/@element-plus-ccefd8d4.js","chunks/lodash-es-7a4ab7c3.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/topoBar-30dae90b.js","assets/topoBar-ac046675.css","chunks/RagSettingsPanel-1d348ad3.js","assets/RagSettingsPanel-29dcc37d.css"])}],...[{path:"/mcp",name:"mcpManagement",component:()=>S((()=>import("./chunks/index-6fc6972e.js")),["chunks/index-6fc6972e.js","assets/index-e4c11d53.css","chunks/topoBar-30dae90b.js","assets/topoBar-ac046675.css","chunks/@vue-bb747027.js","chunks/plugin-vue_export-helper-3b0dab4c.js","chunks/element-plus-06bb7c4a.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/@element-plus-ccefd8d4.js","chunks/lodash-es-7a4ab7c3.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/vue-router-6370cc0f.js","chunks/axios-ff411c8f.js","chunks/mitt-106818fe.js"])}],...[{path:"/settings",name:"Settings",component:()=>S((()=>import("./chunks/index-ab3a2834.js")),["chunks/index-ab3a2834.js","assets/index-229a78c1.css","chunks/topoBar-30dae90b.js","assets/topoBar-ac046675.css","chunks/@vue-bb747027.js","chunks/plugin-vue_export-helper-3b0dab4c.js","chunks/element-plus-06bb7c4a.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/@element-plus-ccefd8d4.js","chunks/lodash-es-7a4ab7c3.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/RagSettingsPanel-1d348ad3.js","assets/RagSettingsPanel-29dcc37d.css","chunks/user.api-f1a02dab.js","chunks/vue-router-6370cc0f.js","chunks/axios-ff411c8f.js","chunks/mitt-106818fe.js"])}],...[{path:"/account",name:"Account",component:()=>S((()=>import("./chunks/AccountSettings-0ddd0938.js")),["chunks/AccountSettings-0ddd0938.js","assets/AccountSettings-373ccff1.css","chunks/topoBar-30dae90b.js","assets/topoBar-ac046675.css","chunks/@vue-bb747027.js","chunks/plugin-vue_export-helper-3b0dab4c.js","chunks/user.api-f1a02dab.js","chunks/element-plus-06bb7c4a.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/@element-plus-ccefd8d4.js","chunks/lodash-es-7a4ab7c3.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/vue-router-6370cc0f.js","chunks/axios-ff411c8f.js","chunks/mitt-106818fe.js"])}]],F=e=>{location.hash=e};const O=async e=>{let t={};if(void 0!=={"./lang/en.js":()=>S((()=>import("./chunks/en-9aaee162.js")),["chunks/en-9aaee162.js","chunks/@vue-bb747027.js","chunks/vue-router-6370cc0f.js","chunks/axios-ff411c8f.js","chunks/element-plus-06bb7c4a.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/@element-plus-ccefd8d4.js","chunks/lodash-es-7a4ab7c3.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/mitt-106818fe.js"]),"./lang/zh.js":()=>S((()=>import("./chunks/zh-1586f67b.js")),["chunks/zh-1586f67b.js","chunks/@vue-bb747027.js","chunks/vue-router-6370cc0f.js","chunks/axios-ff411c8f.js","chunks/element-plus-06bb7c4a.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/@element-plus-ccefd8d4.js","chunks/lodash-es-7a4ab7c3.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/mitt-106818fe.js"])}[`./lang/${e}.js`])try{t=(await function(e){switch(e){case"./lang/en.js":return S((()=>import("./chunks/en-9aaee162.js")),["chunks/en-9aaee162.js","chunks/@vue-bb747027.js","chunks/vue-router-6370cc0f.js","chunks/axios-ff411c8f.js","chunks/element-plus-06bb7c4a.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/@element-plus-ccefd8d4.js","chunks/lodash-es-7a4ab7c3.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/mitt-106818fe.js"]);case"./lang/zh.js":return S((()=>import("./chunks/zh-1586f67b.js")),["chunks/zh-1586f67b.js","chunks/@vue-bb747027.js","chunks/vue-router-6370cc0f.js","chunks/axios-ff411c8f.js","chunks/element-plus-06bb7c4a.js","chunks/@popperjs-66964824.js","chunks/@vueuse-09ca9f25.js","chunks/@element-plus-ccefd8d4.js","chunks/lodash-es-7a4ab7c3.js","chunks/async-validator-b6f94fc9.js","chunks/@ctrl-d2fe7c9e.js","chunks/normalize-wheel-es-233dc293.js","chunks/mitt-106818fe.js"]);default:return new Promise((function(t,s){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+e)))}))}}(`./lang/${e}.js`)).default}catch(s){}return{...t}};var x=async e=>({...await O(e)});function C(e){const t=G();t&&t===e||function(e,t,s=!1){const n=s?sessionStorage:localStorage;null!=t&&n.setItem(e,String(t))}("lang",e)}function G(){return localStorage.getItem("lang")}function R(e,t,s=0,n="children",o=null){s++;for(let r=0;r<e.length;r++){const a=e[r],i=a[n],u=k(i)&&!j(i);t(a,s,!u,o,r),u&&R(a[n],t,s,n,a)}}function $(e){return function(e,t="-",s){return-1===e.indexOf(t)?e:e.split(t).filter((e=>e&&e.trim())).map(((e,t)=>t>0||s?e.charAt(0).toUpperCase()+e.substring(1):e)).join("")}(`page/${e}`,"/",!0)}var D,V;function z(e){let t;return()=>{if(I(t)){const s=Array.prototype.slice.apply(arguments);t=e.apply(null,s)}return t}}function N(e,t){if(!A(t))throw new Error("wrapFunction expect args type Function");return function(...s){A(e)&&e.apply(this,[...s]),t.apply(this,[...s])}}(V=D||(D={}))[V.sync=0]="sync",V[V.async=1]="async";const Y={},Z=P();Y.$on=Z.on,Y.$off=Z.off,Y.$emit=Z.emit;const K={valueFormats:{},bytesToSize:function(e){let t,s=1024;if(e<0&&(t=Math.floor(Math.log(-e)/Math.log(s))),e>=0&&e<1)return{a:0,b:"0 GB"};e>=1&&(t=Math.floor(Math.log(e)/Math.log(s)));const n=(e/s**t).toPrecision(3)>=0?(e/s**t).toPrecision(3):0;return{a:e.toPrecision(3),b:n+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t]}},numGet:function(e,t){let s=String(e);const n=s.length,o=s.indexOf(".");return(-1===o?0:n-o-1)>t&&(s=s.substr(0,o+t+1)),s},toFixed:function(e,t){if(null===e)return"";const s=t?10**Math.max(0,t):1;let n=String(Math.round(e*s)/s);if(-1!==n.indexOf("e")||0===e)return n;if(null!=t){const e=n.indexOf("."),o=-1===e?0:n.length-e-1;if(o<t)return(o?n:n+".")+String(s).substr(1,t-o)}return n=K.numGet(n,2),n},formatFuncCreator:function(e,t){return function(s,n,o){if(null===s)return"";let r=0;const a=t.length;for(;Math.abs(s)>=e;)if(r++,s/=e,r>=a)return"NA";return r>0&&null!==o&&(n=o+3*r),K.toFixed(s,n)+t[r]}}};K.valueFormats.bits=K.formatFuncCreator(1024,[" b"," Kib"," Mib"," Gib"," Tib"," Pib"," Eib"," Zib"," Yib"]),K.valueFormats.bytes=K.formatFuncCreator(1024,[" B"," KB"," MB"," GB"," TB"," PB"," EB"," ZB"," YB"]),K.valueFormats.bytes_rate=K.formatFuncCreator(1024,[" B/s"," KB/s"," MB/s"," GB/s"," TB/s"," PB/s"," EB/s"," ZB/s"," YB/s"]),K.valueFormats.kbytes=K.formatFuncCreator(1024,[" KiB"," MiB"," GiB"," TiB"," PiB"," EiB"," ZiB"," YiB"]),K.valueFormats.mbytes=K.formatFuncCreator(1024,[" MiB"," GiB"," TiB"," PiB"," EiB"," ZiB"," YiB"]),K.valueFormats.gbytes=K.formatFuncCreator(1024,[" GB"," TB"," PB"," EB"," ZB"," YB"]),K.valueFormats.bps=K.formatFuncCreator(1e3,[" bps"," Kbps"," Mbps"," Gbps"," Tbps"," Pbps"," Ebps"," Zbps"," Ybps"]),K.valueFormats.pps=K.formatFuncCreator(1e3,[" pps"," Kpps"," Mpps"," Gpps"," Tpps"," Ppps"," Epps"," Zpps"," Ypps"]),K.valueFormats.Bps=K.formatFuncCreator(1e3,[" Bps"," KBps"," MBps"," GBps"," TBps"," PBps"," EBps"," ZBps"," YBps"]),K.valueFormats.ops=K.formatFuncCreator(1e3,[" ops"," kops","Mops","Gops","Tops","Pops","Eops","Zops","Yops"]),K.valueFormats.none=K.toFixed,K.valueFormats.percent=function(e,t){return K.toFixed(e,t)+" %"},K.valueFormats.special=function(e,t,s){return K.toFixed(e,t)+" "+s},K.roundValue=function(e,t){if(null===e)return null;const s=10**t;return Math.round((s*e).toFixed(t))/s};const q={zh:B,en:v},H=z((e=>{const t=G(),n=s("zh"===t?B:v);return{elLocale:n,switchLang:e=>{n.value=q[e]??B}}})),J=()=>window.matchMedia&&void 0!==window.matchMedia("(prefers-color-scheme: dark)").matches,U=e=>{const t=document.documentElement;"dark"===e?t.classList.add("dark"):t.classList.remove("dark")},W=z((()=>{const e=s(J()&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");if(J()){const t=window.matchMedia("(prefers-color-scheme: dark)"),s=t=>{e.value=t.matches?"dark":"light"};t.addEventListener("change",s),n((()=>{t.removeEventListener("change",s)}))}return o(e,(e=>{U(e)}),{immediate:!0}),{currentTheme:e,isDarkModeSupported:J,setThemeClass:U}}));const X=r({__name:"App",setup(e){document.getElementsByTagName("title")[0].innerHTML=te("ai.center.title");const{elLocale:t}=H(),n=d(),r=s(!1);o((()=>n.hash),((e,t)=>{e&&e.indexOf("big-screen")>-1?r.value=!0:r.value=!1}));const g=a((()=>({isScreen:r.value})));return(e,s)=>{const n=h("router-view");return m(),i("div",{class:p(["web-app",g.value])},[u(l(y),{locale:l(t)},{default:c((()=>[u(n)])),_:1},8,["locale"])],2)}}}),Q=new Map;const ee=new class{constructor(){t(this,"langLoaders",new Set),t(this,"lang",s("")),t(this,"pair",s({}))}registerLangLoader(e){Array.isArray(e)?e.forEach((e=>this.langLoaders.add(e))):this.langLoaders.add(e)}async use(e,t){if(Q.has(e)){const t=Q.get(e);t&&this.update(e,t)}if(t&&Object.keys(t).length)this.update(e,t),Q.set(e,t);else{const t=[];this.langLoaders.forEach((s=>{const n=s(e);t.push(n)}));const s=function(e){return e.reduce(((e,t)=>({...e,...t})),{})}(await Promise.all(t));this.update(e,s),Q.set(e,s)}}update(e,t){document.querySelector("html").setAttribute("lang",e),this.lang.value=e,this.pair.value=t||{}}translate(...e){const[t,s,n]=e;if(!t)return t;let o,r=this.pair.value;if("string"==typeof r[t])return this.compile(r[t],s);const a=t.split(".");for(let i=0,u=a.length;i<u;i++){if(o=r[a[i]],!o)return n||t;if(i===u-1)return this.compile(o,s);r=o}}compile(e,t){return e&&t?"string"!=typeof e?e:e.replace(/\{(\w+)\}/g,((e,s)=>t[s])):e}},te=(...e)=>ee.translate(...e),se=e=>{null==e||Number.isNaN(e)?localStorage.removeItem("user-role"):localStorage.setItem("user-role",String(e))},ne=()=>{const e=localStorage.getItem("user-role");if(!e)return null;const t=Number(e);return Number.isNaN(t)?null:t},oe=e=>{const t=ne();return null!==t&&t<=e},re=e=>{if(!e)return localStorage.removeItem("user-id"),localStorage.removeItem("user-name"),void se(null);e.userId?localStorage.setItem("user-id",e.userId):localStorage.removeItem("user-id"),e.username?localStorage.setItem("user-name",e.username):localStorage.removeItem("user-name"),se(e.role??null)},ae=()=>({userId:localStorage.getItem("user-id")||"",username:localStorage.getItem("user-name")||"",role:ne()}),ie=()=>"admin"===ae().username;function ue(e){R(e,((e,t,s,n)=>{if(e.path=n?function(...e){return e.reduce(((e,t)=>e+(t&&t.startsWith("/")?t:`/${t}`)),"").replace(/\/[\/]+/,"/")}(n.path,e.path):e.path,e.component)if(A(e.component)){const t=e.component;e.component=async()=>{const s=await t(),n=s.default?s.default:s;return n.name=n.name??$(e.path),n}}else e.component.name=$(e.path)}))}class ce{constructor(e){t(this,"options",{}),t(this,"lang",s("zh")),t(this,"theme",s("primary")),t(this,"isLoading",s(!1)),t(this,"app"),t(this,"router"),t(this,"plugins"),t(this,"langMessage",{}),this.initOptions(e)}initOptions(e){this.options=e||{},this.create(e?.root),this.initBuildInGlobalConfig(),this.setGlobalConfig(e?.config),e?.plugins&&e.plugins.forEach((e=>{this.registerPlugin(e)}))}create(e){const t=e||X;return this.app=g(t),this.options.onBeforeLaunch&&this.options.onBeforeLaunch(this),window.webApp=this,this}setUpLang(e){e&&this.registerLangLoader(e),this.lang.value=G()||this.options.lang||"zh",this.setLang(this.lang.value)}createRouter(e){this.router=function({routes:e,routeBase:t,routeType:s}){e&&ue(e);const n=f({history:"hash"===s?b(t):_(t),routes:e||[]});return n.beforeEach((e=>{if(["/kb","/mcp","/settings"].some((t=>e.path.startsWith(t)))&&!oe(1))return"/chat/assistant";e.meta.title?document.title=`${te(e.meta.title)}`:document.title=`${te("APP_HOME","",document.title)}`})),n.afterEach((e=>{e.meta.title?document.title=`${te(e.meta.title)}`:document.title=`${te("APP_HOME","",document.title)}`})),n}({routes:e||[],routeBase:this.options.routeBase||"",routeType:this.options.routeType||"hash"}),this.registerPlugin(this.router)}initBuildInGlobalConfig(){const e=this.app.config.globalProperties;Object.defineProperty(e,"$appLoading",{writable:!1,value:this.isLoading}),Object.defineProperty(e,"$lang",{writable:!1,value:this.lang}),Object.defineProperty(e,"$t",{writable:!1,value:te}),Object.defineProperty(e,"$eventbus",{writable:!1,value:Y})}setGlobalConfig(e){const t=this.app.config.globalProperties;for(const s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);return this}registerLangLoader(e){return ee.registerLangLoader(e),this}registerPlugin(e,...t){return this.app.use(e,...t),this}registerRoutes(e){return e.forEach((e=>{this.router.addRoute(e)})),this}setLang(e){C(e),ee.use(e,this.langMessage),this.lang.value=e;const t=this.options.onSwitchLang;return t&&t(e),this}getLang(){return G()||this.options.lang||"zh"}switchLang(e){return this.setLang(e),this}mount(e){return this.isLoading.value=!0,this.isLoading.value=!1,this.app.mount(e),this.options.onAfterLaunch&&this.options.onAfterLaunch(this),this}onLaunch(e){return this.options.onAfterLaunch=N(this.options.onAfterLaunch,e),this}onBeforeLaunch(e){return this.options.onBeforeLaunch=N(this.options.onBeforeLaunch,e),this}onSwitchLang(e){return this.options.onSwitchLang=N(this.options.onSwitchLang,e),this}onSwitchTheme(e){return this.options.onSwitchTheme=N(this.options.onSwitchTheme,e),this}}const le=L.create({baseURL:"/",timeout:6e4});le.interceptors.response.use((e=>e),(e=>{const{status:t}=e.response;return 401===t&&F("login"),403===t&&(E.error("无权限访问"),F("/chat/assistant")),400!==t&&500!==t||e.response.data.message&&E.error(t+" : "+e.response.data.message),Promise.reject(e)}));const pe="jrag",he="/",me="Jrag",ge="Jrag",de="你好，我是 Jrag AI",fe="Hello, I am Jrag AI",be="Jrag AI",_e=(e,t,s,n)=>le.post("/v1/auth/jrag/login",{username:e,password:t,validateCode:s,hash:n}),Le=()=>le.get("/v1/auth/jrag/logout"),Be=()=>le.get("/v1/rest/jrag/session");!async function(){const e=new ce({routeType:"hash",routes:T,routeBase:"",langLoaders:[x],plugins:[w]}),t=await x(e.getLang());if(e.langMessage=t,e.setUpLang([x]),W(),!(location.hash.includes("/login")||location.hash.includes("/logout")))try{const e=await Be();re(e.data)}catch(s){re(null)}e.createRouter(T),e.mount("#app")}();export{S as _,Be as a,Le as b,F as c,be as d,le as e,fe as f,he as g,oe as h,me as i,de as j,ie as k,_e as l,ae as m,pe as p,re as s,te as t,ge as w};
